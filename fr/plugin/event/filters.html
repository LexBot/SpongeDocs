
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Filtres d’événement &mdash; Documentation Sponge 7.2.0</title>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Index"
              href="../../genindex.html"/>        <link rel="search" title="Recherche" href="../../search.html"/>    <link rel="top" title="Documentation Sponge 7.2.0" href="../../index.html"/>        <link rel="up" title="Événements" href="index.html"/>        <link rel="next" title="Événements personnalisés" href="custom.html"/>        <link rel="prev" title="Causes des Events" href="causes.html"/>
    <!-- Google Analytics -->
    <script>
        (function(S,p,o,n,g,i,e){S['GoogleAnalyticsObject']=g;S[g]=S[g]||function(){
        (S[g].q=S[g].q||[]).push(arguments)},S[g].l=1*new Date();i=p.createElement(o),
        e=p.getElementsByTagName(o)[0];i.async=1;i.src=n;e.parentNode.insertBefore(i,e)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-59476017-2', 'auto');
        ga('send', 'pageview');
    </script>

  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../index.html">
            <img src="../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Créer un Serveur</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions/index.html">Stratégie de versioning</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Préparation pour le développement</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Création d’un Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-versions.html">Versions de l’API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">Build Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">Mise en Place de votre Espace de Travail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">Configurer Votre Projet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">Identifiants de Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">Classe Principale du Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">Cycle de vie des Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">Injection de Dépendances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practices/index.html">Bonnes Pratiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">Optionnels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Journalisation (Logging) et Débogage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Commandes de Plugin</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Événements</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="listeners.html">Les Event Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="causes.html">Causes des Events</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Filtres d’événement</a></li>
<li class="toctree-l3"><a class="reference internal" href="custom.html">Événements personnalisés</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Configuration des plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">L’API des Ressources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">La Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">Blocs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">Entités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trade-offers.html">Trade-Offers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">Effets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">Scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Bases de données</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">Bans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">Collection de Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">Views d’un Livre</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">Économie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">Génération du monde</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">Gestionnaire de Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">Gestionnaire de Profil de Jeu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">Données du Joueur Hors-Ligne</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">Tab Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">Plugin Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">Ray Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">Debugging d’un plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutoriels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/index.html">Plugins dépendants des implémentations</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ore/index.html">Documentation d’Ore</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contribuer à Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">À propos du Projet Sponge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
          <li><a href="../index.html">Création d’un Plugin</a> &raquo;</li>
          <li><a href="index.html">Événements</a> &raquo;</li>
    <li>Filtres d’événement</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugin/event/filters.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="event-filters">
<h1>Filtres d’événement<a class="headerlink" href="#event-filters" title="Lien permanent vers ce titre">¶</a></h1>
<p>Maintenant que vous avez passé un peu de temps à travailler avec les événements, vous avez sans doute remarqué qu’il y a plusieurs préconditions que vous vérifiez très souvent quand vous écrivez un event listener. Les filtres d’événements sont un groupe d’annotations qui vous aident en vous permettant de valider automatiquement les aspects de l’événement, et si la validation échoue votre listener ne sera pas appelé. Cela permet à votre listener d’être dédié à la logique de votre gestionnaire, plutôt que les préconditions, entraînant un code plus propre.</p>
<p>Les filtres d’événements viennent en deux variétés, les filtres de type événement et les filtres de paramètres.</p>
<p>Les filtres de type événement sont des annotations de méthodes qui sont appliqués à votre méthode de listener avec l’annotation <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/Listener.html">Listener</a> et fournissent plusieurs filtres basés sur le type ou l’état de l’événement.</p>
<p>Les filtres de paramètres valident des objets contenus dans l’événement comme la cause. Ils viennent dans deux variétés, sources de paramètres et filtres de paramètres. Chaque paramètre supplémentaire doit avoir une annotation de source, et éventuellement peut inclure n’importe quel nombre d’annotations de filtre.</p>
<div class="section" id="event-type-filters">
<h2>Filtres de type événement<a class="headerlink" href="#event-type-filters" title="Lien permanent vers ce titre">¶</a></h2>
<p><strong>&#64;Include/&#64;Exclude</strong> Ces deux paramètres sont utilisés en conjonction avec l’écoute des événements supertype comme <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/entity/AffectEntityEvent.html">AffectEntityEvent</a> tout en rétrécissant les événements que vous recevez à un sous-ensemble des évéments héritant l’événement que vous écoutez.</p>
<p>Par exemple :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Listener</span>
<span class="nd">@Exclude</span><span class="p">(</span><span class="n">InteractBlockEvent</span><span class="p">.</span><span class="na">Primary</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="p">(</span><span class="n">InteractBlockEvent</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Ce listener devrait normalement être appelé pour tous les événements héritant InteractBlockEvent. Toutefois, l’annotation <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/filter/type/Exclude.html">Exclude</a> empêchera votre listener d’être appelé pour l’événement <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/block/InteractBlockEvent.Primary.html">InteractBlockEvent.Primary</a> (Laissant juste l’événement <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/block/InteractBlockEvent.Secondary.html">InteractBlockEvent.Secondary</a>).</p>
<p>Un exemple avec <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/filter/type/Include.html">Include</a> pourrait être :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Listener</span>
<span class="nd">@Include</span><span class="p">({</span><span class="n">DamageEntityEvent</span><span class="p">.</span><span class="na">class</span><span class="p">,</span> <span class="n">DestructEntityEvent</span><span class="p">.</span><span class="na">class</span><span class="p">})</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onEvent</span><span class="p">(</span><span class="n">TargetEntityEvent</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Ce listener devrait normalement être appelé pour tous les EntityEvents, toutefois l’annotation <code class="docutils literal notranslate"><span class="pre">Include</span></code> rétrécit pour ne recevoir que les événements <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/entity/DamageEntityEvent.html">DamageEntityEvent</a> et <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/entity/DestructEntityEvent.html">DestructEntityEvent</a>.</p>
<p><strong>&#64;IsCancelled</strong> Cette annotation permet le filtrage des événements par leur état d’annulation au moment où votre event listener devrait être appelé. Par défaut, votre event listener ne sera pas appelé si l’événement a été annulé par un event listener précédent. Toutefois, vous pouvez modifier ce comportement à l’un des trois états selon la valeur de <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/util/Tristate.html">Tristate</a> dans l’annotation <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/filter/IsCancelled.html">IsCancelled</a>.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Tristate.FALSE</span></code> est le comportement par défaut si l’annotation <code class="docutils literal notranslate"><span class="pre">IsCancelled</span></code> n’est pas présente, et ne va pas appeler votre listener si l’événement a été annulé.</li>
<li><code class="docutils literal notranslate"><span class="pre">Tristate.UNDEFINED</span></code> entraînera votre listener à être appelé quel que soit l’état d’annulation de l’événement.</li>
<li><code class="docutils literal notranslate"><span class="pre">Tristate.TRUE</span></code> entraînera votre listener à être appelé uniquement si l’événement a été annulé par un event listener précédent.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="parameter-filters">
<h2>Filtres de paramètre<a class="headerlink" href="#parameter-filters" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les filtres de paramètre vous permettent de filtrer selon les objets à l’intérieur de l’événement. Ces annotations viennent en deux types, les sources et les filtres. Chaque paramètre supplémentaire pour votre méthode listener, au-delà du paramètre d’événement normal, nécessite exactement une annotation de source et peut éventuellement inclure n’importe quel nombre d’annotations de filtre.</p>
<div class="section" id="parameter-source-annotations">
<h3>Annotations de Paramètres Source<a class="headerlink" href="#parameter-source-annotations" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les annotations de paramètres source disent au système d’événement où il devrait chercher la valeur du paramètre. Ceci peut être dans les causes d’événements ou dans un membre de l’objet événement lui-même.</p>
<p><strong>&#64;First</strong> Cette annotation de paramètres source dit au système d’événement de trouver le premier objet dans la cause de l’événement qui correspond au type de votre paramètre (C’est un équivalent de <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/cause/Cause.html#first-java.lang.Class-">Cause#first(Class)</a>). Si aucun objet n’est trouvé correspondant à ce paramètre votre listener n’est pas appelé.</p>
<p><strong>Dans cet exemple votre listener sera seulement appelé si il y a un joueur dans la cause de l’événement, et le paramètre</strong> <code class="docutils literal notranslate"><span class="pre">player</span></code> <strong>sera défini au premier joueur présent dans la cause.</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="p">(</span><span class="n">InteractBlockEvent</span><span class="p">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="p">,</span> <span class="nd">@First</span> <span class="n">Player</span> <span class="n">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>&#64;Last</strong> Ceci est similaire au <strong>&#64;First</strong> mais il fait un appel à <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/cause/Cause.html#last-java.lang.Class-">Cause#last(Class)</a> à la place.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="p">(</span><span class="n">InteractBlockEvent</span><span class="p">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="p">,</span> <span class="nd">@Last</span> <span class="n">Player</span> <span class="n">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>&#64;Before</strong> Cette annotation de paramètres source dit au système d’événement de trouver l’objet avant celui du type spécifié par le paramètre d’annotation (C’est un équivalent de <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/cause/Cause.html#before-java.lang.Class-">Cause#before(Class)</a>). Additionnellement, l’objet trouvé doit correspondre au type du paramètre. Si aucun objet n’est trouvé correspondant à ces critères, votre listener n’est pas appelé.</p>
<p><strong>Dans cet exemple votre listener sera appelé seulement si il y a un joueur situé devant un plugin dans la cause de l’événement. Le paramètre</strong> <code class="docutils literal notranslate"><span class="pre">player</span></code> <strong>sera défini à ce joueur.</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="p">(</span><span class="n">InteractBlockEvent</span><span class="p">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="p">,</span> <span class="nd">@Before</span><span class="p">(</span><span class="n">PluginContainer</span><span class="p">.</span><span class="na">class</span><span class="p">)</span> <span class="n">Player</span> <span class="n">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>&#64;After</strong> Ceci est similaire au <code class="docutils literal notranslate"><span class="pre">&#64;Before</span></code>, mais il utilise <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/cause/Cause.html#after-java.lang.Class-">Cause#after(Class)</a> à la place.</p>
<p><strong>&#64;Before</strong> Cette annotation de paramètres source requiert que le paramètre annoté soit un tableau. Le tableau retourné sera équivalent au contenu de l’appel de la méthode <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/cause/Cause.html#allOf-java.lang.Class-">Cause#allOf(Class)</a>. Par défaut, si le tableau retourné est vide, la validation échoue, cependant ceci peut être désactivé en définissant <code class="docutils literal notranslate"><span class="pre">ignoreEmpty=false</span></code>.</p>
<p><strong>Dans cet exemple votre listener sera toujours appelé, bien que le tableau de joueurs puisse être vide si la cause de l’événement ne contient pas de joueur.</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="p">(</span><span class="n">InteractBlockEvent</span><span class="p">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="p">,</span> <span class="nd">@All</span><span class="p">(</span><span class="n">ignoreEmpty</span><span class="o">=</span><span class="kc">false</span><span class="p">)</span> <span class="n">Player</span><span class="o">[]</span> <span class="n">players</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>&#64;Root</strong> Cette annotation de paramètres source va chercher l’objet racine de la cause, c’est l’équivalent de <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/event/cause/Cause.html#root--">Cause#root()</a>. Il effectue également une vérification supplémentaire que le type de l’objet racine correspond au type de votre paramètre.</p>
<p><strong>&#64;Getter</strong> Cette annotation de paramètres source va récupérér un getter sur l’événement avec le nom spécifié. Si le getter spécifié retourne un <code class="docutils literal notranslate"><span class="pre">Optional</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;Getter</span></code> va automatiquement déballer l”<code class="docutils literal notranslate"><span class="pre">Optional</span></code>.</p>
<p><strong>Dans cet exemple, nous tentons de récupérer la valeur de</strong> <code class="docutils literal notranslate"><span class="pre">getUseItemResult</span></code> <strong>en utilisant l’annotation</strong> <code class="docutils literal notranslate"><span class="pre">&#64;Getter</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="p">(</span><span class="n">InteractBlockEvent</span><span class="p">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="p">,</span> <span class="nd">@Getter</span><span class="p">(</span><span class="s">&quot;getUseItemResult&quot;</span><span class="p">)</span> <span class="n">Tristate</span> <span class="n">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="parameter-filter-annotations">
<h3>Annotations de Filtres de Paramètre<a class="headerlink" href="#parameter-filter-annotations" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les annotations de filtres de paramètre ajoutent des validations supplémentaires aux objets retournés par les annotations de paramètres source. Comme avec tous les événements filtres si une de ces validations échoue alors votre listener ne sera pas appelé.</p>
<p><strong>&#64;Supports</strong> Ce filtre de paramètre peut être appliqué sur n’importe quel type de paramètre qui est un <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/DataHolder.html">DataHolder</a>. Il prend une classe qui hérite <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/DataManipulator.html">DataManipulator</a> en paramètre et vérifie que le <code class="docutils literal notranslate"><span class="pre">DataHolder</span></code> annoté prend en charge le <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code> donné. Cette validation est équivalent à <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/value/mutable/CompositeValueStore.html#supports-java.lang.Class-">CompositeValueStore#supports(Class&lt;? extends H&gt;)</a>.</p>
<p><strong>Dans cet exemple le listener sera seulement appelé si il y a une entité dans la cause de l’événement, et si cette entité prend en charge le manipulateur de données</strong> <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/mutable/entity/FlyingData.html">FlyingData</a>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="p">(</span><span class="n">InteractBlockEvent</span><span class="p">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="p">,</span> <span class="nd">@First</span> <span class="nd">@Supports</span><span class="p">(</span><span class="n">FlyingData</span><span class="p">.</span><span class="na">class</span><span class="p">)</span> <span class="n">Entity</span> <span class="n">entity</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>&#64;Has</strong> Ce filtre de paramètre est similaire au filtre de paramètre <strong>Supports</strong> excepté qu’il vérifie additionnellement que le <code class="docutils literal notranslate"><span class="pre">DataHolder</span></code> contient une instance du <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code> donné.</p>
<p><strong>Dans cet exemple le listener sera seulement appelé si il y a une entité dans la cause de l’événement, et si cette entité a une instance de</strong> <code class="docutils literal notranslate"><span class="pre">FlyingData</span></code> <strong>disponible.</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="p">(</span><span class="n">InteractBlockEvent</span><span class="p">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="p">,</span> <span class="nd">@First</span> <span class="nd">@Has</span><span class="p">(</span><span class="n">FlyingData</span><span class="p">.</span><span class="na">class</span><span class="p">)</span> <span class="n">Entity</span> <span class="n">entity</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&#64;Has</span></code> et <code class="docutils literal notranslate"><span class="pre">&#64;Supports</span></code> ont un paramètre optionnel <code class="docutils literal notranslate"><span class="pre">inverse</span></code> qui peut être défini pour faire échouer la validation si elle a ou supporte la cible DataManipulator.</p>
</div>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="custom.html" class="btn btn-neutral float-right" title="Événements personnalisés" accesskey="n" rel="next">Suivant <span class="fa fa-angle-right"></span></a>
        <a href="causes.html" class="btn btn-neutral" title="Causes des Events" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Précédent</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../_static/flags/fr_FR.svg"
         alt="fr" title="Français">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../_static/jquery.js"></script>      <script type="text/javascript" src="../../_static/underscore.js"></script>      <script type="text/javascript" src="../../_static/doctools.js"></script>      <script type="text/javascript" src="../../_static/language_data.js"></script>      <script type="text/javascript" src="../../_static/translations.js"></script>      <script type="text/javascript" src="../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>
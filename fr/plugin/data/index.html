
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>La Data API &mdash; Documentation Sponge 7.2.0</title>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Index"
              href="../../genindex.html"/>        <link rel="search" title="Recherche" href="../../search.html"/>    <link rel="top" title="Documentation Sponge 7.2.0" href="../../index.html"/>        <link rel="up" title="Création d’un Plugin" href="../index.html"/>        <link rel="next" title="Données Customisées" href="custom/index.html"/>        <link rel="prev" title="L’API des Ressources" href="../assets.html"/>
    <!-- Google Analytics -->
    <script>
        (function(S,p,o,n,g,i,e){S['GoogleAnalyticsObject']=g;S[g]=S[g]||function(){
        (S[g].q=S[g].q||[]).push(arguments)},S[g].l=1*new Date();i=p.createElement(o),
        e=p.getElementsByTagName(o)[0];i.async=1;i.src=n;e.parentNode.insertBefore(i,e)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-59476017-2', 'auto');
        ga('send', 'pageview');
    </script>

  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../index.html">
            <img src="../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Créer un Serveur</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions/index.html">Stratégie de versioning</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Préparation pour le développement</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Création d’un Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-versions.html">Versions de l’API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">Build Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">Mise en Place de votre Espace de Travail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">Configurer Votre Projet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">Identifiants de Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">Classe Principale du Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">Cycle de vie des Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">Injection de Dépendances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practices/index.html">Bonnes Pratiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">Optionnels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Journalisation (Logging) et Débogage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Commandes de Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../event/index.html">Événements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Configuration des plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">L’API des Ressources</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">La Data API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="custom/index.html">Données Customisées</a></li>
<li class="toctree-l3"><a class="reference internal" href="catalog-types.html">Catalog Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="keys.html">Utilisation des Clés</a></li>
<li class="toctree-l3"><a class="reference internal" href="datamanipulators.html">Manipulateurs de données</a></li>
<li class="toctree-l3"><a class="reference internal" href="transactions.html">Transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="serialization.html">Sérialisation de données</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">Blocs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">Entités</a></li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trade-offers.html">Trade-Offers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">Effets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">Scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Bases de données</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">Bans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">Collection de Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">Views d’un Livre</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">Économie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">Génération du monde</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">Gestionnaire de Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">Gestionnaire de Profil de Jeu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">Données du Joueur Hors-Ligne</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">Tab Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">Plugin Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">Ray Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">Debugging d’un plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutoriels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/index.html">Plugins dépendants des implémentations</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ore/index.html">Documentation d’Ore</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contribuer à Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">À propos du Projet Sponge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
          <li><a href="../index.html">Création d’un Plugin</a> &raquo;</li>
    <li>La Data API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugin/data/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="the-data-api">
<h1>La Data API<a class="headerlink" href="#the-data-api" title="Lien permanent vers ce titre">¶</a></h1>
<p>La Data API cherche à offrir une façon efficace d’avoir accès à des données et à les modifier. Celles-ci, dans ce contexte, peuvent représenter toute information synchronisée entre le client et le serveur. Elle peut être modifiée côté serveur de manière à ce que les changements effectués soient également pris en compte côté client. Cela inclut, parmi d’autres choses, le texte d’un panneau, l’apparence d’un cheval ou la vie d’une entité.</p>
<p>Là où les autres approchent définissent les données disponibles en utilisant les interfaces et l’héritage (comme une interface <code class="docutils literal notranslate"><span class="pre">LivingEntity</span></code> fournissant des méthodes getter et setter pour la santé actuelle et maximale), dans Sponge toutes les entités, blocs, etc… sont complètement inconscients de quelles données ils détiennent. Bien que cela puisse sembler moins aisé que les méthodes d’accesseurs directs, c’est avant tout beaucoup plus extensible. Et grâce à l’ajout de <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/key/Key.html">Key</a>s, accéder simplement à des valeurs spécifiques n’est pas moins simple.</p>
<div class="admonition tip">
<p class="first admonition-title">Astuce</p>
<p class="last">Si la Data API se comporte différemment de ce à quoi vous vous attendez (ex : elle retourne un <code class="docutils literal notranslate"><span class="pre">Optional</span></code> vide alors que les données sont censées être présentes), ou qu’il y a une fonctionnalité/valeur manquante dont vous avez besoin, vérifiez l”<a class="reference external" href="https://github.com/SpongePowered/SpongeCommon/issues/8">Implementation Tracker</a>, demandez dans le canal IRC <code class="docutils literal notranslate"><span class="pre">#spongedev</span></code>, le canal Discord <code class="docutils literal notranslate"><span class="pre">#dev</span></code> ou sur les <a class="reference external" href="https://forums.spongepowered.org">Forums</a>.</p>
</div>
<div class="section" id="concepts">
<h2>Concepts<a class="headerlink" href="#concepts" title="Lien permanent vers ce titre">¶</a></h2>
<p>Au premier coup d’oeil à la documentation de l’API, la Data API risque de vous accabler avec beaucoup d’interfaces et de packages. Mais pour utiliser la Data API simplement, vous n’aurez pas à faire face à bon nombre d’entre eux, puisque la plupart des interfaces sont juste des data manipulators spécifiques.</p>
<div class="section" id="catalogtypes">
<h3>CatalogTypes<a class="headerlink" href="#catalogtypes" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les <a class="reference internal" href="catalog-types.html"><span class="doc">Catalog Types</span></a> sont des groupes de valeurs qui peuvent être utilisés dans certains contextes. De célèbres exemples de ces types sont <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/block/BlockType.html">BlockType</a>s, <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/entity/EntityType.html">EntityType</a>s et <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/item/ItemType.html">ItemType</a>s.</p>
</div>
<div class="section" id="dataholder">
<h3>DataHolder<a class="headerlink" href="#dataholder" title="Lien permanent vers ce titre">¶</a></h3>
<p>Un data holder est simplement quelque chose qui contient des données. Il fournit des méthodes permettant de récupérer et de retourner ces données. L’interface, en soi, est complètement indépendante du type des données enregistrées. Puisque seules les implémentations auront cette information, il est possible de demander à un <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/DataHolder.html">DataHolder</a> de fournir des données qu’il ne possède pas, ou d’accepter des données qu’il ne peut pas utiliser. Dans ces cas, la valeur retournée par ces méthodes fournira l’information <code class="docutils literal notranslate"><span class="pre">Optional.empty()</span></code> (information non disponible), ou information non acceptée (<a class="reference internal" href="transactions.html"><span class="doc">DataTransactionResult</span></a>).</p>
</div>
<div class="section" id="property">
<h3>Propriété<a class="headerlink" href="#property" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une propriété est aussi une donnée, mais pas synchronisée entre le serveur et les clients. Par conséquent, elle peut seulement être changée par des modifications présentes sur le client et le serveur. Puisque Sponge n’est pas destiné à exiger un équivalent du côté client, les propriétés ne sont pas modifiables. Des exemples de propriétés sont les capacités de récolte sur les outils (représenté par <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/property/item/HarvestingProperty.html">HarvestingProperty</a>) ou l’absorption de dégâts d’un élément d’armure équipable (représenté par <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/property/item/DamageAbsorptionProperty.html">DamageAbsorptionProperty</a>).</p>
</div>
<div class="section" id="datamanipulator">
<h3>Manipulateur de données<a class="headerlink" href="#datamanipulator" title="Lien permanent vers ce titre">¶</a></h3>
<p>Un data manipulator représente des points de données cohérentes qui décrit un certain composant de son holder. Par exemple <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/mutable/entity/HealthData.html">HealthData</a>, qui contient la vie actuelle et maximum. Si un data holder a un <code class="docutils literal notranslate"><span class="pre">HealthData</span></code>, il a la santé qu’on peut en quelques sortes épuiser et réapprovisionner, et peut mourir si cette santé est épuisée. Cela permet la réutilisation de ces composants à travers l’API et évite la duplication des méthodes d’accesseurs. Par exemple, les moutons, les blocs de verres teints et les armures en cuir peuvent tous partager le <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/mutable/DyeableData.html">DyeableData</a> détenant la couleur dans laquelle ils sont teints.</p>
</div>
<div class="section" id="key">
<h3>Clé<a class="headerlink" href="#key" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une <code class="docutils literal notranslate"><span class="pre">Key</span></code> est un identifieur unique pour un unique point de données et peut être utilisée pour lire directement ou définir ce point de données sans se soucier des data manipulators. Il a été conçu pour fournir un moyen pratique d’accéder à des données similaires au méthode directes getter/setter. Toutes les keys utilisées à l’intérieur de Sponge sont listées en tant que constantes dans la classe utilitaire <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/key/Keys.html">Keys</a>.</p>
</div>
<div class="section" id="value">
<h3>Valeur<a class="headerlink" href="#value" title="Lien permanent vers ce titre">¶</a></h3>
<p>Au sein de la Data API, une valeur référée par une <code class="docutils literal notranslate"><span class="pre">Key</span></code> est encodée dans un objet contenur. Pour cette documentation, il est dénommé <cite>keyed value</cite> (valeur clé) pour éviter toute confusion avec la valeur réelle. Une valeur clé encapsule la valeur de données réelles (si elle est présente), une valeur par défaut (à utiliser si aucune valeure directe n’est présente) et la Key par laquelle la valeur est identifiée.</p>
</div>
</div>
<div class="section" id="contents">
<h2>Contenu<a class="headerlink" href="#contents" title="Lien permanent vers ce titre">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="custom/index.html">Données Customisées</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom/datamanipulators.html">DataManipulators Customisés</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom/dataholders.html">DataHolders Customisés</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom/serialization.html">Sérialiser des Données Customisées</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="catalog-types.html">Catalog Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="keys.html">Utilisation des Clés</a></li>
<li class="toctree-l1"><a class="reference internal" href="datamanipulators.html">Manipulateurs de données</a></li>
<li class="toctree-l1"><a class="reference internal" href="transactions.html">Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="serialization.html">Sérialisation de données</a></li>
</ul>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="custom/index.html" class="btn btn-neutral float-right" title="Données Customisées" accesskey="n" rel="next">Suivant <span class="fa fa-angle-right"></span></a>
        <a href="../assets.html" class="btn btn-neutral" title="L’API des Ressources" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Précédent</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../_static/flags/fr_FR.svg"
         alt="fr" title="Français">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../_static/jquery.js"></script>      <script type="text/javascript" src="../../_static/underscore.js"></script>      <script type="text/javascript" src="../../_static/doctools.js"></script>      <script type="text/javascript" src="../../_static/language_data.js"></script>      <script type="text/javascript" src="../../_static/translations.js"></script>      <script type="text/javascript" src="../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>
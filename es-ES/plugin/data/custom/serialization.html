
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Serializando Datos Personalizados &mdash; documentación de Sponge - 7.2.0</title>

    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Índice"
              href="../../../genindex.html"/>        <link rel="search" title="Búsqueda" href="../../../search.html"/>    <link rel="top" title="documentación de Sponge - 7.2.0" href="../../../index.html"/>        <link rel="up" title="Datos Personalizados" href="index.html"/>        <link rel="next" title="Catalog Types" href="../catalog-types.html"/>        <link rel="prev" title="DataHolders Personalizados" href="dataholders.html"/>
    <!-- Google Analytics -->
    <script>
        (function(S,p,o,n,g,i,e){S['GoogleAnalyticsObject']=g;S[g]=S[g]||function(){
        (S[g].q=S[g].q||[]).push(arguments)},S[g].l=1*new Date();i=p.createElement(o),
        e=p.getElementsByTagName(o)[0];i.async=1;i.src=n;e.parentNode.insertBefore(i,e)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-59476017-2', 'auto');
        ga('send', 'pageview');
    </script>

  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../../index.html">
            <img src="../../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../server/index.html">Creando un Servidor</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../versions/index.html">Versioning Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../preparing/index.html">Preparándose para el Desarrollo</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Creando un Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../api-versions.html">API-Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html">Sistemas de Compilación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace/index.html">Configuración de su Espacio de Trabajo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../project/index.html">Configurando Su Proyecto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin-identifier.html">Identificadores de Complementos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin-class.html">Clase de Plug-in Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lifecycle.html">Ciclo de vida del Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../injection.html">Inyección de Dependencia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practices/index.html">Prácticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optional/index.html">Opcionales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging.html">Registro y Depuración</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../text/index.html">Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands/index.html">Plugin Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../event/index.html">Eventos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/index.html">Configurando Extensiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../assets.html">La API de Activos</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">La API de Datos</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Datos Personalizados</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="datamanipulators.html">ManipuladoresDeDatos Personalizados</a></li>
<li class="toctree-l4"><a class="reference internal" href="dataholders.html">DataHolders Personalizados</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Serializando Datos Personalizados</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../catalog-types.html">Catalog Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../keys.html">Utilización de Claves</a></li>
<li class="toctree-l3"><a class="reference internal" href="../datamanipulators.html">Manipuladores de Datos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../transactions.html">Transacciones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../serialization.html">Serialización de Datos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../blocks/index.html">Bloques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../entities/index.html">Entidades</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../items/index.html">Articulos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../trade-offers.html">Ofertas de Intercambio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../effects.html">Efectos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scheduler.html">Programador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../services.html">Servicios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../database.html">Bases de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../permissions.html">Permisos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bans.html">Baneos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../metrics.html">Metrics Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bookview.html">Vistas del Libro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../economy/index.html">Economía</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../wgen/index.html">Generación de Mundo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manager.html">Administrador de Complementos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../game-profile-manager.html">Administrador de Perfiles del Juego</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../offline-userplayer-data.html">Datos del Jugador Fuera de Línea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tab-lists.html">Listas de Tabulaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin-meta.html">Metadatos del Complemento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ray-tracing.html">Trazado de Rayos (Ray Tracing)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging.html">Depuración de Complemento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials.html">Tutoriales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../internals/index.html">Implementation-dependent Plugins</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../ore/index.html">Documentación Ore</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Contribuyendo a Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">Acerca del proyecto Sponge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
          <li><a href="../../index.html">Creando un Plugin</a> &raquo;</li>
          <li><a href="../index.html">La API de Datos</a> &raquo;</li>
          <li><a href="index.html">Datos Personalizados</a> &raquo;</li>
    <li>Serializando Datos Personalizados</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/plugin/data/custom/serialization.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="serializing-custom-data">
<h1>Serializando Datos Personalizados<a class="headerlink" href="#serializing-custom-data" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Sin un método para serializar y deserializar, sus datos no se mantendrán durante los reinicios. Sponge tiene algunas formas diferentes de serializar/deserializar los datos según el tipo de datos:</p>
<ul class="simple">
<li><a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/DataSerializable.html">DataSerializable</a>s implement an interface to perform serialization, and use <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/persistence/DataBuilder.html">DataBuilder</a> for
deserialization and creation</li>
<li><a class="reference internal" href="../datamanipulators.html"><span class="doc">DataManipulators</span></a> also implement <code class="docutils literal notranslate"><span class="pre">DataSerializable</span></code>, but instead use a
<a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/DataManipulatorBuilder.html">DataManipulatorBuilder</a> for deserialization and creation</li>
<li>Los objetos que no implementan o no pueden implementar `` DataSerializable`` usan :javadoc: <cite>DataTranslator</cite> para la serialización y la deserialización</li>
</ul>
<p>Esto significa que prácticamente cualquier objeto en Java se puede guardar en el disco si ha sido registrado!</p>
<div class="section" id="reading-dataviews">
<h2>Lectura de DataViews<a class="headerlink" href="#reading-dataviews" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Whenever you’re reading a serialized object, it’s tempting to read all the individual values yourself in order to
manually create all the required objects (and their parameters) for your data. However, depending on the data saved in
the container there are a few ways that are far more convenient:</p>
<ul class="simple">
<li>Los tipos comunes de Java como <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code> y <code class="docutils literal notranslate"><span class="pre">Map</span></code> se pueden recuperar utilizando los métodos integrados <a href="#id1"><span class="problematic" id="id2">``</span></a>getInt(DataQuery) <a href="#id3"><span class="problematic" id="id4">``</span></a>, <a href="#id5"><span class="problematic" id="id6">``</span></a>getString(DataQuery) <a href="#id7"><span class="problematic" id="id8">``</span></a>, etc. Las listas de estos tipos también se pueden recuperar de manera similar, por ejemplo <a href="#id9"><span class="problematic" id="id10">``</span></a>getStringList(DataQuery) <a href="#id11"><span class="problematic" id="id12">``</span></a>.</li>
<li>Los objetos <code class="docutils literal notranslate"><span class="pre">DataSerializable</span></code> pueden ser recuperados usando <code class="docutils literal notranslate"><span class="pre">getSerializable</span> <span class="pre">(DataQuery,</span> <span class="pre">Class)</span> <span class="pre">``</span> <span class="pre">o</span> <span class="pre">``getSerializableList</span> <span class="pre">(DataQuery,</span> <span class="pre">Class)</span> <span class="pre">``.</span> <span class="pre">Junto</span> <span class="pre">con</span> <span class="pre">la</span> <span class="pre">ruta,</span> <span class="pre">también</span> <span class="pre">debe</span> <span class="pre">especificar</span> <span class="pre">la</span> <span class="pre">``Clase</span></code> del tipo serializable, como <code class="docutils literal notranslate"><span class="pre">Home.class</span></code>.</li>
<li>Los objetos con un <code class="docutils literal notranslate"><span class="pre">DataTranslator</span></code> registrado se pueden recuperar utilizando <cite>getObject(DataQuery, Class)</cite> <cite>o ` getObjectList(DataQuery, Class)</cite> <cite>. Se puede encontrar una lista completa de las clases admitidas de manera predeterminada en :javadoc: `DataTranslators</cite>.</li>
</ul>
<p>En todos los casos, debe especificar una ruta usando a :javadoc: <cite>DataQuery</cite>. Si sus datos tienen una <code class="docutils literal notranslate"><span class="pre">Key</span></code> correspondiente, esto es tan fácil como llamar a <a href="#id1"><span class="problematic" id="id2">``</span></a>key.getQuery () <a href="#id3"><span class="problematic" id="id4">``</span></a>. De lo contrario, la forma más fácil de hacerlo es con <a href="#id5"><span class="problematic" id="id6">``</span></a>DataQuery.of («name») <a href="#id7"><span class="problematic" id="id8">``</span></a>.</p>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">DataQueries se puede utilizar para hacer referencia a múltiples nodos de datos en un árbol al utilizar, por ejemplo, <a href="#id1"><span class="problematic" id="id2">``</span></a>DataQuery.of(«my», «custom», «data») <a href="#id3"><span class="problematic" id="id4">``</span></a>.</p>
</div>
</div>
<div class="section" id="databuilders">
<span id="custom-data-builders"></span><h2>DataBuilders<a class="headerlink" href="#databuilders" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para hacer un objeto serializable, primero asegúrese de que implemente :javadoc: <cite>DataSerializable</cite>. Usted debe implementar solo dos métodos:</p>
<ul class="simple">
<li><a href="#id1"><span class="problematic" id="id2">``</span></a>getContentVersion () `` - esto definió la versión actual de sus datos.</li>
<li><code class="docutils literal notranslate"><span class="pre">toContainer</span> <span class="pre">()</span> <span class="pre">``</span> <span class="pre">-</span> <span class="pre">esto</span> <span class="pre">es</span> <span class="pre">lo</span> <span class="pre">que</span> <span class="pre">se</span> <span class="pre">le</span> <span class="pre">dará</span> <span class="pre">a</span> <span class="pre">su</span> <span class="pre">compilador</span> <span class="pre">cuando</span> <span class="pre">intente</span> <span class="pre">deserializar</span> <span class="pre">y</span> <span class="pre">objetar.</span> <span class="pre">Puede</span> <span class="pre">almacenar</span> <span class="pre">lo</span> <span class="pre">que</span> <span class="pre">desee</span> <span class="pre">en</span> <span class="pre">el</span> <span class="pre">``DataContainer</span></code> devuelto, siempre que también se pueda serializar utilizando uno de los métodos anteriores. Simplemente use el método <a href="#id1"><span class="problematic" id="id2">``</span></a>set (DataQuery, Object) `` para guardar sus datos en la ruta dada.</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Se recomienda que también guarde la versión de sus datos en el contenedor utilizando <code class="docutils literal notranslate"><span class="pre">Queries.CONTENT_VERSION</span></code> como consulta. Esto permitirá actualizaciones del control de versiones con :ref: <cite>content-updaters</cite>.</p>
</div>
<p><strong>Ejemplo de Código: Implementando toContainer</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataContainer</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataQuery</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.Queries</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.MemoryDataContainer</span><span class="p">;</span>

<span class="kd">private</span> <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Spongie&quot;</span><span class="p">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">DataContainer</span> <span class="nf">toContainer</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">DataContainer</span><span class="p">.</span><span class="na">createNew</span><span class="p">()</span>
            <span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">DataQuery</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Name&quot;</span><span class="p">),</span> <span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="p">)</span>
            <span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Queries</span><span class="p">.</span><span class="na">CONTENT_VERSION</span><span class="p">,</span> <span class="n">getContentVersion</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<p>La siguiente parte es implementar un :javadoc: <cite>DataBuilder</cite>. Se recomienda extender :javadoc: <cite>AbstractDataBuilder</cite> ya que tratará de actualizar sus datos si la versión es menor a la versión actual. Solo hay un método que usted necesita implementar: `` build (DataView) <code class="docutils literal notranslate"><span class="pre">,</span> <span class="pre">o</span> <span class="pre">``</span> <span class="pre">buildContent(DataView)</span> <span class="pre">``</span> <span class="pre">si</span> <span class="pre">usted</span> <span class="pre">está</span> <span class="pre">usando</span> <span class="pre">``AbstractDataBuilder</span></code>.</p>
<p>You’ll want to check that all the queries you want to retrieve are present using <code class="docutils literal notranslate"><span class="pre">DataView.contains(Key...)</span></code>. If not,
the data is likely incomplete and you should return <code class="docutils literal notranslate"><span class="pre">Optional.empty()</span></code>.</p>
<p>Si todo parece estar allí, utilice los métodos <code class="docutils literal notranslate"><span class="pre">getX</span></code> para construir los valores y devolver un objeto recién creado como un <code class="docutils literal notranslate"><span class="pre">Optional</span></code>.</p>
</div>
<div class="section" id="datacontentupdaters">
<span id="content-updaters"></span><h2>DataContentUpdaters<a class="headerlink" href="#datacontentupdaters" title="Enlazar permanentemente con este título">¶</a></h2>
<p>¿Qué sucede si cambia el diseño de los datos en el lanzamiento de una nueva versión? :javadoc: <cite>DataContentUpdater</cite> s resuelve ese problema. Si el objeto serializado es menor que la versión actual, un <code class="docutils literal notranslate"><span class="pre">AbstractDataBuilder</span></code> intentará actualizar los datos antes de pasarlos al compilador.</p>
<p>Cada actualizador tiene una versión de entrada y una versión de salida. Debería tomar los datos anteriores y cambiar lo que sea necesario para actualizarlo a un diseño más nuevo. Si es imposible realizar la conversión debido a la falta de datos, es posible proveer un valor predeterminado que es interpretado en otro lugar - como por ejemplo, el compilador principal o el objeto en sí.</p>
<p>Finalmente, debe asegurarse de que todos los <code class="docutils literal notranslate"><span class="pre">DataContentUpdater</span></code> s se registren con <a href="#id1"><span class="problematic" id="id2">``</span></a>DataManager#registerContentUpdater() `` haciendo referencia a la clase de datos principal, esto les permitirá a ellos ser descubiertos por el compilador.</p>
<p><strong>Ejemplo de código: Implementando un DataContentUpdater</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.persistence.DataContentUpdater</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.Text</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">NameUpdater</span> <span class="kd">implements</span> <span class="n">DataContentUpdater</span> <span class="p">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getInputVersion</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getOutputVersion</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">DataView</span> <span class="nf">update</span><span class="p">(</span><span class="n">DataView</span> <span class="n">content</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">content</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">DataQuery</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Name&quot;</span><span class="p">)).</span><span class="na">get</span><span class="p">();</span>

        <span class="c1">// For example, version 2 uses a text for the name</span>
        <span class="k">return</span> <span class="n">content</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">DataQuery</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Name&quot;</span><span class="p">),</span> <span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="datamanipulatorbuilders">
<h2>DataManipulatorBuilders<a class="headerlink" href="#datamanipulatorbuilders" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Un <code class="docutils literal notranslate"><span class="pre">DataManipualatorBuilder</span></code> es muy similar a <code class="docutils literal notranslate"><span class="pre">DataBuilder</span></code>, sin embargo, agrega algunos métodos directamente relacionados con los manipuladores de deserialización:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">create</span> <span class="pre">()</span></code> debería devolver un nuevo manipulador con valores predeterminados</li>
<li><code class="docutils literal notranslate"><span class="pre">createFrom</span> <span class="pre">(DataHolder)</span></code> es similar al método de compilación, pero en su lugar los valores deben tomarse de <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/DataHolder.html">DataHolder</a>. Si no hay datos para tomar del titular, solo devuelva la salida de <code class="docutils literal notranslate"><span class="pre">create</span> <span class="pre">()</span></code>. Si los datos son incompatibles con el <code class="docutils literal notranslate"><span class="pre">DataHolder</span></code>, en su lugar debe devolver <code class="docutils literal notranslate"><span class="pre">Optional.empty</span> <span class="pre">()</span></code>.</li>
</ul>
<p>Al igual que <code class="docutils literal notranslate"><span class="pre">DataBuilder</span></code>, debe leer y devolver su manipulador en el método `` build`` aplicable.</p>
<p><code class="docutils literal notranslate"><span class="pre">DataManipulatorBuilder</span></code> s puede también usar <a class="reference internal" href="#content-updaters"><span class="std std-ref">DataContentUpdaters</span></a>, siempre que implemente` <cite>AbstractDataBuilder`</cite>.</p>
<p>El registro de un <code class="docutils literal notranslate"><span class="pre">DataManipulatorBuilder</span></code> también es similar a <code class="docutils literal notranslate"><span class="pre">DataBuilder</span></code> pero utiliza el método <code class="docutils literal notranslate"><span class="pre">register()</span></code>. Usted debe hacer una referencia tanto a sus clases mutables como inmutables en el método, además de una instancia de su compilador.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Usted <strong>Debe</strong> hacer referencia a las clases de implementación si ha dividido la API de la implementación.</p>
</div>
</div>
<div class="section" id="datatranslators">
<h2>DataTranslators<a class="headerlink" href="#datatranslators" title="Enlazar permanentemente con este título">¶</a></h2>
<p>A menudo, los objetos que desea serializar no son objetos que implementan <code class="docutils literal notranslate"><span class="pre">DataSerializable</span></code>, como `` Vector3d`` o `` Date``. Para permitir a estos objetos ustedimplementa un <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/persistence/DataTranslator.html">DataTranslator</a> que maneje <em>ambos</em>, la serialización y deserialización del objeto.</p>
<p>La implementación de <code class="docutils literal notranslate"><span class="pre">translate</span></code> es idéntica a <code class="docutils literal notranslate"><span class="pre">toContainer()</span></code> y <code class="docutils literal notranslate"><span class="pre">build(DataView)</span> <span class="pre">``</span> <span class="pre">para</span> <span class="pre">un</span> <span class="pre">``DataSerializable</span></code> como se muestra arriba, excepto que se lanza un <code class="docutils literal notranslate"><span class="pre">InvalidDataException</span></code> si faltan datos en lugar de devolver un <code class="docutils literal notranslate"><span class="pre">Optional</span></code>.</p>
<p>As with other data, ensure that you register the translator during <code class="docutils literal notranslate"><span class="pre">GameRegistryEvent.Register&lt;DataTranslator&lt;?&gt;&gt;</span></code>.</p>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../catalog-types.html" class="btn btn-neutral float-right" title="Catalog Types" accesskey="n" rel="next">Siguiente <span class="fa fa-angle-right"></span></a>
        <a href="dataholders.html" class="btn btn-neutral" title="DataHolders Personalizados" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Previo</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../../_static/flags/es_ES.svg"
         alt="es" title="Español">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../../_static/jquery.js"></script>      <script type="text/javascript" src="../../../_static/underscore.js"></script>      <script type="text/javascript" src="../../../_static/doctools.js"></script>      <script type="text/javascript" src="../../../_static/language_data.js"></script>      <script type="text/javascript" src="../../../_static/translations.js"></script>      <script type="text/javascript" src="../../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>
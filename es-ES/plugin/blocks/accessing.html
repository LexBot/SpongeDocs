
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Acceder a los Bloques &mdash; documentación de Sponge - 7.2.0</title>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Índice"
              href="../../genindex.html"/>        <link rel="search" title="Búsqueda" href="../../search.html"/>    <link rel="top" title="documentación de Sponge - 7.2.0" href="../../index.html"/>        <link rel="up" title="Bloques" href="index.html"/>        <link rel="next" title="Modificación de Bloques" href="modifying.html"/>        <link rel="prev" title="Conceptos" href="concepts.html"/>
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../index.html">
            <img src="../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Creando un Servidor</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions/index.html">Versioning Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Preparándose para el Desarrollo</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Creando un Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-versions.html">API-Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">Sistemas de Compilación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">Configuración de su Espacio de Trabajo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">Configurando Su Proyecto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">Identificadores de Complementos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">Clase de Plug-in Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">Ciclo de vida del Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">Inyección de Dependencia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practices/index.html">Prácticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">Opcionales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Registro y Depuración</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Plugin Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../event/index.html">Eventos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Configurando Extensiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">La API de Activos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">La API de Datos</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Bloques</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="concepts.html">Conceptos</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Acceder a los Bloques</a></li>
<li class="toctree-l3"><a class="reference internal" href="modifying.html">Modificación de Bloques</a></li>
<li class="toctree-l3"><a class="reference internal" href="tileentities.html">Entidades de Baldosa</a></li>
<li class="toctree-l3"><a class="reference internal" href="virtualblock.html">Cambios de Bloque Virtuales</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">Entidades</a></li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">Articulos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trade-offers.html">Ofertas de Intercambio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">Efectos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">Programador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">Servicios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Bases de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">Permisos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">Baneos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">Metrics Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">Vistas del Libro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">Economía</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">Generación de Mundo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">Administrador de Complementos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">Administrador de Perfiles del Juego</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">Datos del Jugador Fuera de Línea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">Listas de Tabulaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">Metadatos del Complemento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">Trazado de Rayos (Ray Tracing)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">Depuración de Complemento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutoriales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/index.html">Implementation-dependent Plugins</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ore/index.html">Documentación Ore</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contribuyendo a Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">Acerca del proyecto Sponge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
          <li><a href="../index.html">Creando un Plugin</a> &raquo;</li>
          <li><a href="index.html">Bloques</a> &raquo;</li>
    <li>Acceder a los Bloques</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugin/blocks/accessing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="accessing-blocks">
<h1>Acceder a los Bloques<a class="headerlink" href="#accessing-blocks" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="basic-information">
<h2>Información Básica<a class="headerlink" href="#basic-information" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los bloques son los más comúnmente identificados y accedidos por su <a href="#id1"><span class="problematic" id="id2">:javadoc:`Ubicación`</span></a>. Esta ubicación apunta a cierta coordenada dentro de una <a href="#id3"><span class="problematic" id="id4">:javadoc:`Extensión`</span></a>. En la mayoría de los casos un <a href="#id5"><span class="problematic" id="id6">:javadoc:`Mundo`</span></a> será utilizado como la <code class="docutils literal notranslate"><span class="pre">Extensión</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.Sponge</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.world.Location</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.world.World</span><span class="p">;</span>

<span class="kd">public</span> <span class="n">Location</span><span class="o">&lt;</span><span class="n">World</span><span class="o">&gt;</span> <span class="nf">getBlockAt</span><span class="p">(</span><span class="n">String</span> <span class="n">worldName</span><span class="p">,</span> <span class="kt">int</span> <span class="n">posX</span><span class="p">,</span> <span class="kt">int</span> <span class="n">posY</span><span class="p">,</span> <span class="kt">int</span> <span class="n">posZ</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">World</span> <span class="n">world</span> <span class="o">=</span> <span class="n">Sponge</span><span class="p">.</span><span class="na">getServer</span><span class="p">().</span><span class="na">getWorld</span><span class="p">(</span><span class="n">worldName</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
    <span class="n">Location</span><span class="o">&lt;</span><span class="n">World</span><span class="o">&gt;</span> <span class="n">blockLoc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Location</span><span class="o">&lt;</span><span class="n">World</span><span class="o">&gt;</span><span class="p">(</span><span class="n">world</span><span class="p">,</span> <span class="n">posX</span><span class="p">,</span> <span class="n">posY</span><span class="p">,</span> <span class="n">posZ</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">blockLoc</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Tenga en cuenta que el ejemplo anterior no verifica si el mundo existe.``getWorld(worldName).get()``fallará si no hay un mundo con ese nombre cargado.</p>
</div>
<p>Con este objeto <code class="docutils literal notranslate"><span class="pre">Ubicación</span></code> puede entonces obtener información adicional sobre el bloque. El siguiente código verifica si un bloque referenciado es algún tipo de banner al verificar el tipo de bloque.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.block.BlockType</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.block.BlockTypes</span><span class="p">;</span>

<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isBanner</span><span class="p">(</span><span class="n">Location</span><span class="o">&lt;</span><span class="n">World</span><span class="o">&gt;</span> <span class="n">blockLoc</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">BlockType</span> <span class="n">type</span> <span class="o">=</span> <span class="n">blockLoc</span><span class="p">.</span><span class="na">getBlock</span><span class="p">().</span><span class="na">getType</span><span class="p">();</span>
    <span class="k">return</span> <span class="n">type</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">BlockTypes</span><span class="p">.</span><span class="na">STANDING_BANNER</span><span class="p">)</span>
            <span class="o">||</span> <span class="n">type</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">BlockTypes</span><span class="p">.</span><span class="na">WALL_BANNER</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">La función <code class="docutils literal notranslate"><span class="pre">==</span></code> podría ser utilizada en lugar de <code class="docutils literal notranslate"><span class="pre">equals()</span></code> ya que solo hay una instancia <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/block/BlockType.html">BlockType</a> para cada bloque, sin embargo, generalmente es recomendado utilizar <code class="docutils literal notranslate"><span class="pre">equals()</span></code>.</p>
</div>
</div>
<div class="section" id="block-data-manipulators">
<h2>Manipuladores de Datos de Bloque<a class="headerlink" href="#block-data-manipulators" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los datos de un bloque son guardados como un <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/manipulator/DataManipulator.html">DataManipulator</a>, similar a otras partes de la API. Esto es el contenedor que mantiene información sobre componentes de nuestro bloque, como la orientación de un bloque, tipos específicos (piedra vs. granito) y así sucesivamente. Verificar los valores de estos manipuladores es fácil, solo necesita verificar la dirección del bloque <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/manipulator/mutable/block/DirectionalData.html">DirectionalData</a>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.key.Keys</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.manipulator.mutable.block.DirectionalData</span><span class="p">;</span>

<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFacingNorth</span><span class="p">(</span><span class="n">Location</span><span class="o">&lt;</span><span class="n">World</span><span class="o">&gt;</span> <span class="n">blockLoc</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Optional</span><span class="o">&lt;</span><span class="n">DirectionalData</span><span class="o">&gt;</span> <span class="n">optionalData</span> <span class="o">=</span> <span class="n">blockLoc</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">DirectionalData</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">optionalData</span><span class="p">.</span><span class="na">isPresent</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">DirectionalData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">optionalData</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">DIRECTION</span><span class="p">).</span><span class="na">get</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">Direction</span><span class="p">.</span><span class="na">NORTH</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>En primer lugar, necesitamos saber que sub-interfaz <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code> necesitamos. Esas que son aplicables a bloques son encontradas en los paquetes <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/manipulator/mutable/package-summary.html">org.spongepowered.api.data.manipulator.mutable</a> y <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/manipulator/mutable/block/package-summary.html">org.spongepowered.api.data.manipulator.mutable.block</a>. Entonces, podemos solo pasar esa clase al método <code class="docutils literal notranslate"><span class="pre">get(DataManipulator)</span></code> de la <code class="docutils literal notranslate"><span class="pre">Ubicación</span></code> que devolverá un <code class="docutils literal notranslate"><span class="pre">Opcional</span></code>. Después debemos verificar si nuestro <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code> realmente existe para nuestro bloque al verificar <code class="docutils literal notranslate"><span class="pre">ifPresent()</span></code>. Si existe, entonces podemos utilizarlo.</p>
<p>Más sobre <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code>s puede ser encontrado en la <a class="reference internal" href="../data/datamanipulators.html"><span class="doc">documentación de datos</span></a>.</p>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Si un bloque nunca deja de soportar un particular <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code>, como <code class="docutils literal notranslate"><span class="pre">DirectionalData</span></code> con escalones, entonces no hay necesidad de verificar <code class="docutils literal notranslate"><span class="pre">isPresent()</span></code>. Solo remueva la opción alrededor del <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code> y busque los datos no opcionales para agregar <code class="docutils literal notranslate"><span class="pre">.get()</span></code> al final de la instrucción. Tenga en cuenta, que esto causará una <code class="docutils literal notranslate"><span class="pre">NullPointerException</span></code> si un bloque jamás deja de soportar un particular <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code>.</p>
</div>
</div>
<div class="section" id="block-states">
<h2>Estados de Bloque<a class="headerlink" href="#block-states" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Un <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/block/BlockState.html">BlockState</a> contiene un <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/block/BlockType.html">BlockType</a>, cualquier <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code>s y las propiedades que son aplicadas al bloque, y cualquier <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/block/trait/BlockTrait.html">BlockTrait</a>s para un bloque. Almacena todos lo valores inmutables para un bloque particular. Un uso para esto es obtener un <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/manipulator/ImmutableDataManipulator.html">ImmutableDataManipulator</a>, como se muestra a continuación:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.block.BlockState</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.manipulator.immutable.ImmutableWetData</span><span class="p">;</span>

<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isWet</span><span class="p">(</span><span class="n">Location</span> <span class="n">blockLoc</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">BlockState</span> <span class="n">sponge</span> <span class="o">=</span> <span class="n">blockLoc</span><span class="p">.</span><span class="na">getBlock</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">sponge</span><span class="p">.</span><span class="na">getType</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">BlockTypes</span><span class="p">.</span><span class="na">SPONGE</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">Optional</span><span class="o">&lt;</span><span class="n">ImmutableWetData</span><span class="o">&gt;</span> <span class="n">wetness</span> <span class="o">=</span> <span class="n">sponge</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">ImmutableWetData</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">wetness</span><span class="p">.</span><span class="na">isPresent</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Mas información sobre <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code>s mutables e inmutables puede ser encontrada en la <a class="reference internal" href="../data/datamanipulators.html"><span class="doc">documentación de datos</span></a>.</p>
</div>
<div class="section" id="block-properties">
<h2>Propiedades de Bloque<a class="headerlink" href="#block-properties" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los bloques pueden contener ciertas propiedades. Una propiedad es un valor preestablecido que define la lógica del juego para ese bloque particular. Por ejemplo, los bloques pueden contener valores de resistencia a explosiones predeterminados que pueden ser utilizados para determinar con que se está trabajando, sin verificar realmente el tipo de bloque que podría ser de uno en uno. Por ejemplo, si queremos obtener la resistencia a explosiones de un bloque y verificar si es mayor o igual a uno, se haría así:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.Property</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.property.DoubleProperty</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.property.block.BlastResistanceProperty</span><span class="p">;</span>

<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">blastResistanceGreaterThanOne</span><span class="p">(</span><span class="n">Location</span><span class="o">&lt;</span><span class="n">World</span><span class="o">&gt;</span> <span class="n">blockLoc</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Optional</span><span class="o">&lt;</span><span class="n">BlastResistanceProperty</span><span class="o">&gt;</span> <span class="n">optional</span> <span class="o">=</span>
        <span class="n">blockLoc</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="n">BlastResistanceProperty</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

    <span class="k">if</span><span class="p">(</span><span class="n">optional</span><span class="p">.</span><span class="na">isPresent</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">BlastResistanceProperty</span> <span class="n">resistance</span> <span class="o">=</span> <span class="n">optional</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
        <span class="n">DoubleProperty</span> <span class="n">one</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DoubleProperty</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Property</span><span class="p">.</span><span class="na">Operator</span><span class="p">.</span><span class="na">GEQUAL</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">one</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">resistance</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This will get the blast resistance of our block and compare it to a new <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/property/DoubleProperty.html">DoubleProperty</a>, as
<a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/property/block/BlastResistanceProperty.html">BlastResistanceProperty</a> inherits from <code class="docutils literal notranslate"><span class="pre">DoubleProperty</span></code>. The method will then return if the blast
resistance of our block is greater than one, the value in placed <code class="docutils literal notranslate"><span class="pre">matches()</span></code>. If we wanted to see if it was less than
two, we would replace the property operator in the <code class="docutils literal notranslate"><span class="pre">DoubleProperty</span></code> ctor  with <code class="docutils literal notranslate"><span class="pre">Property.Operator.LESS</span></code>.</p>
<p>Si estuviéramos comparando dos propiedades preexistentes, tomará el <code class="docutils literal notranslate"><span class="pre">Operador</span></code> de nuestro primer valor, el único para el que estamos creando una propiedad doble. Si el <code class="docutils literal notranslate"><span class="pre">Operador</span></code> es <code class="docutils literal notranslate"><span class="pre">DELEGATE</span></code>, que es el operador nulo, entonces tomará el <code class="docutils literal notranslate"><span class="pre">Operador</span></code> de nuestro segundo valor, el único en <code class="docutils literal notranslate"><span class="pre">matches()</span></code>. La comparación devolverá falso si ambos son <code class="docutils literal notranslate"><span class="pre">DELEGATE</span></code>. Un ejemplo de comparar dos <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/property/block/PoweredProperty.html">PoweredProperty</a>s, una <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/property/BooleanProperty.html">BooleanProperty</a>, puede ser vista a continuación:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.property.BooleanProperty</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.property.block.PoweredProperty</span><span class="p">;</span>

<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">areBlocksPowered</span><span class="p">(</span><span class="n">Location</span><span class="o">&lt;</span><span class="n">World</span><span class="o">&gt;</span> <span class="n">blockLoc</span><span class="p">,</span> <span class="n">Location</span><span class="o">&lt;</span><span class="n">World</span><span class="o">&gt;</span> <span class="n">blockLoc2</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Optional</span><span class="o">&lt;</span><span class="n">PoweredProperty</span><span class="o">&gt;</span> <span class="n">optional</span> <span class="o">=</span> <span class="n">blockLoc</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="n">PoweredProperty</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="n">Optional</span><span class="o">&lt;</span><span class="n">PoweredProperty</span><span class="o">&gt;</span> <span class="n">optional2</span> <span class="o">=</span> <span class="n">blockLoc2</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="n">PoweredProperty</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

    <span class="k">if</span><span class="p">(</span><span class="n">optional</span><span class="p">.</span><span class="na">isPresent</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">optional2</span><span class="p">.</span><span class="na">isPresent</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">PoweredProperty</span> <span class="n">property1</span> <span class="o">=</span> <span class="n">optional2</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
        <span class="n">PoweredProperty</span> <span class="n">property2</span> <span class="o">=</span> <span class="n">optional2</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
        <span class="n">BooleanProperty</span> <span class="n">booleanProperty</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BooleanProperty</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">Property</span><span class="p">.</span><span class="na">Operator</span><span class="p">.</span><span class="na">EQUAL</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="n">booleanProperty</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">property1</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">property1</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">property2</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>La segunda verificación <code class="docutils literal notranslate"><span class="pre">if</span></code> comprueba si una de las propiedades es verdadera. Si es verdadera y ambas son iguales, entonces ambos de valores deben ser verdaderos. Por lo tanto, elimina la necesidad de verificar el segundo valor. Ahora sabemos que ambos bloques están siendo potenciados.</p>
<p>Una lista de posibles propiedades de bloque puede ser encontrada en el paquete <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/property/block/package-summary.html">org.spongepowered.api.data.property.block</a>.</p>
</div>
<div class="section" id="block-traits">
<h2>Rasgos de Bloque<a class="headerlink" href="#block-traits" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Un rasgo de bloque es un cierto valor sobre el actual estado de un bloque. Un bloque puede o no contener rasgos de bloques dependiendo del tipo de bloque. Por ejemplo, una cama tiene un <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/block/trait/BooleanTrait.html">BooleanTrait</a> llamado <code class="docutils literal notranslate"><span class="pre">BED_OCCUPIED</span></code>. Como un boolean puede tener solo dos valores, verdadero o falso, el rasgo``BED_OCCUPIED`` solo puede ser verdadero o falso. Verificar estos valores es simple, solo llame el método <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/block/BlockState.html#getTraitValue-org.spongepowered.api.block.trait.BlockTrait-">BlockState#getTraitValue(BlockTrait)</a>. Un ejemplo de esto con una cama es mostrado a continuación:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.block.trait.BooleanTraits</span><span class="p">;</span>

<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isBedOccupied</span><span class="p">(</span><span class="n">Location</span><span class="o">&lt;</span><span class="n">World</span><span class="o">&gt;</span> <span class="n">blockLoc</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">blockLoc</span><span class="p">.</span><span class="na">getBlock</span><span class="p">().</span><span class="na">getType</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">BlockTypes</span><span class="p">.</span><span class="na">BED</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">blockLoc</span><span class="p">.</span><span class="na">getBlock</span><span class="p">().</span><span class="na">getTraitValue</span><span class="p">(</span><span class="n">BooleanTraits</span><span class="p">.</span><span class="na">BED_OCCUPIED</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Si es posible, se recomienda utilizar <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code>s en lugar de <code class="docutils literal notranslate"><span class="pre">BlockTrait</span></code>s donde sea posible ya que son solo para ser utilizados como un respaldo para la compatibilidad modificada.</p>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="modifying.html" class="btn btn-neutral float-right" title="Modificación de Bloques" accesskey="n" rel="next">Siguiente <span class="fa fa-angle-right"></span></a>
        <a href="concepts.html" class="btn btn-neutral" title="Conceptos" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Previo</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../_static/flags/es_ES.svg"
         alt="es" title="Español">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../_static/jquery.js"></script>      <script type="text/javascript" src="../../_static/underscore.js"></script>      <script type="text/javascript" src="../../_static/doctools.js"></script>      <script type="text/javascript" src="../../_static/language_data.js"></script>      <script type="text/javascript" src="../../_static/translations.js"></script>      <script type="text/javascript" src="../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>
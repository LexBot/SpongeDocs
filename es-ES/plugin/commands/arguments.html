
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Análisis de argumentos &mdash; documentación de Sponge - 7.2.0</title>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Índice"
              href="../../genindex.html"/>        <link rel="search" title="Búsqueda" href="../../search.html"/>    <link rel="top" title="documentación de Sponge - 7.2.0" href="../../index.html"/>        <link rel="up" title="Plugin Commands" href="index.html"/>        <link rel="next" title="Banderas de Comando" href="flags.html"/>        <link rel="prev" title="Compilación de un Comando" href="creating.html"/>
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../index.html">
            <img src="../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Creando un Servidor</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions/index.html">Versioning Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Preparándose para el Desarrollo</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Creando un Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-versions.html">API-Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">Sistemas de Compilación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">Configuración de su Espacio de Trabajo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">Configurando Su Proyecto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">Identificadores de Complementos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">Clase de Plug-in Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">Ciclo de vida del Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">Inyección de Dependencia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practices/index.html">Prácticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">Opcionales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Registro y Depuración</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">Texto</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Plugin Commands</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="creating.html">Compilación de un Comando</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Análisis de argumentos</a></li>
<li class="toctree-l3"><a class="reference internal" href="flags.html">Banderas de Comando</a></li>
<li class="toctree-l3"><a class="reference internal" href="childcommands.html">Comandos Hijos</a></li>
<li class="toctree-l3"><a class="reference internal" href="service.html">El Gerente de Comando</a></li>
<li class="toctree-l3"><a class="reference internal" href="commandcallable.html">Comando de API de Bajo Nivel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../event/index.html">Eventos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Configurando Extensiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">La API de Activos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">La API de Datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">Bloques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">Entidades</a></li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">Articulos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trade-offers.html">Ofertas de Intercambio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">Efectos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">Programador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">Servicios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Bases de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">Permisos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">Baneos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">Metrics Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">Vistas del Libro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">Economía</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">Generación de Mundo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">Administrador de Complementos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">Administrador de Perfiles del Juego</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">Datos del Jugador Fuera de Línea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">Listas de Tabulaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">Metadatos del Complemento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">Trazado de Rayos (Ray Tracing)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">Depuración de Complemento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutoriales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/index.html">Implementation-dependent Plugins</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ore/index.html">Documentación Ore</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contribuyendo a Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">Acerca del proyecto Sponge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
          <li><a href="../index.html">Creando un Plugin</a> &raquo;</li>
          <li><a href="index.html">Plugin Commands</a> &raquo;</li>
    <li>Análisis de argumentos</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugin/commands/arguments.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="argument-parsing">
<h1>Análisis de argumentos<a class="headerlink" href="#argument-parsing" title="Enlazar permanentemente con este título">¶</a></h1>
<p>The Command Builder API comes with a powerful argument parser. It converts the string input to java base types
(integers, booleans, strings) or game objects (players, worlds, block types, …). The parser supports optional
arguments and flags. It also handles TAB completion of arguments.</p>
<p>Los argumentos analizados se almacenan en el objeto: javadoc: “CommandContext”. Si el analizador sintáctico devuelve un solo objeto, obténgalo con :javadoc: “CommandContext#getOne(String)”. Los argumentos opcionales y débiles pueden devolver “” Optional.empty()””.</p>
<p>Muchos de los analizadores pueden devolver más de un objeto (por ejemplo, varios jugadores con el mismo nombre de usuario que coincida). En ese caso, debe utilizar el método :javadoc:”CommandContext#getAll(String)” para obtener la “” colección “” de posibles coincidencias. ** De lo contrario, el objeto de contexto generará una excepción! **</p>
<p>When creating a command, consider whether the argument could return multiple values, for example, whether a player
argument could support multiple players when using a selector. If you support multiple values the users need to type
only one command and can use an easier command syntax. Example: <code class="docutils literal notranslate"><span class="pre">/tell</span> <span class="pre">&#64;a</span> <span class="pre">Who</span> <span class="pre">took</span> <span class="pre">the</span> <span class="pre">cookies?</span></code></p>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">You can use the <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/command/args/GenericArguments.html#onlyOne-org.spongepowered.api.command.args.CommandElement-">GenericArguments#onlyOne(CommandElement)</a> element to restrict the amount of returned values
to a single one, so you can safely use <code class="docutils literal notranslate"><span class="pre">args.&lt;T&gt;getOne(String)</span></code>. However the user will still get a message, if they
try to select more than one value.</p>
</div>
<p>Para crear un nuevo :javadoc:´CommandElement´(argumento), utilice la clase de fábrica :javadoc: ´GenericArguments´. Muchos elementos de comando requieren una tecla de texto breve, la cual se muestra en los mensajes de error y de ayuda.</p>
<p>Apply the <code class="docutils literal notranslate"><span class="pre">CommandElement</span></code> to the command builder with the <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/command/spec/CommandSpec.Builder.html#arguments-org.spongepowered.api.command.args.CommandElement...-">CommandSpec.Builder#arguments(CommandElement…)</a>
method. It is possible to pass more than one <code class="docutils literal notranslate"><span class="pre">CommandElement</span></code> to the method, thus chaining multiple arguments (e.g.
<code class="docutils literal notranslate"><span class="pre">/msg</span> <span class="pre">&lt;player&gt;</span> <span class="pre">&lt;msg&gt;</span></code>). This has the same effect as wrapping the <code class="docutils literal notranslate"><span class="pre">CommandElement</span></code> objects in a
<a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/command/args/GenericArguments.html#seq-org.spongepowered.api.command.args.CommandElement...-">GenericArguments#seq(CommandElement…)</a> element.</p>
<div class="section" id="example-building-a-command-with-multiple-arguments">
<h2>Ejemplo: Construir un comando con múltiples argumentos<a class="headerlink" href="#example-building-a-command-with-multiple-arguments" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.Sponge</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.Text</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.entity.living.player.Player</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.CommandException</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.CommandResult</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.CommandSource</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.CommandContext</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.GenericArguments</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.spec.CommandExecutor</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.spec.CommandSpec</span><span class="p">;</span>

<span class="n">PluginContainer</span> <span class="n">plugin</span> <span class="o">=</span> <span class="p">...;</span>

<span class="n">CommandSpec</span> <span class="n">myCommandSpec</span> <span class="o">=</span> <span class="n">CommandSpec</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Send a message to a player&quot;</span><span class="p">))</span>
        <span class="p">.</span><span class="na">permission</span><span class="p">(</span><span class="s">&quot;myplugin.command.message&quot;</span><span class="p">)</span>

        <span class="p">.</span><span class="na">arguments</span><span class="p">(</span>
                <span class="n">GenericArguments</span><span class="p">.</span><span class="na">onlyOne</span><span class="p">(</span><span class="n">GenericArguments</span><span class="p">.</span><span class="na">player</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;player&quot;</span><span class="p">))),</span>
                <span class="n">GenericArguments</span><span class="p">.</span><span class="na">remainingJoinedStrings</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">)))</span>

        <span class="p">.</span><span class="na">executor</span><span class="p">((</span><span class="n">CommandSource</span> <span class="n">src</span><span class="p">,</span> <span class="n">CommandContext</span> <span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">{</span>

            <span class="n">Player</span> <span class="n">player</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="o">&lt;</span><span class="n">Player</span><span class="o">&gt;</span><span class="n">getOne</span><span class="p">(</span><span class="s">&quot;player&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
            <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="n">getOne</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>

            <span class="n">player</span><span class="p">.</span><span class="na">sendMessage</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">message</span><span class="p">));</span>

            <span class="k">return</span> <span class="n">CommandResult</span><span class="p">.</span><span class="na">success</span><span class="p">();</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="n">Sponge</span><span class="p">.</span><span class="na">getCommandManager</span><span class="p">().</span><span class="na">register</span><span class="p">(</span><span class="n">plugin</span><span class="p">,</span> <span class="n">myCommandSpec</span><span class="p">,</span> <span class="s">&quot;message&quot;</span><span class="p">,</span> <span class="s">&quot;msg&quot;</span><span class="p">,</span> <span class="s">&quot;m&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="overview-of-the-genericarguments-command-elements">
<h2>Descripción general de los elementos del comando `` GenericArguments``<a class="headerlink" href="#overview-of-the-genericarguments-command-elements" title="Enlazar permanentemente con este título">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="60%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Elemento de comando</th>
<th class="head">Descripción</th>
<th class="head">Tipo de valor y monto</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>«ninguno»</td>
<td>No espere argumentos. Este es el comportamiento predeterminado de un `` CommandSpec``.</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td colspan="3">** Tipos de base de Java **</td>
</tr>
<tr class="row-even"><td>«cadena»</td>
<td>Requiere un argumento para ser una cadena.</td>
<td>una «cadena»</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">cadenasunidasrestantes</span></code></td>
<td>Concatena todos los argumentos restantes separados por espacios (muy útil para los comandos de mensaje).</td>
<td>una «cadena»</td>
</tr>
<tr class="row-even"><td>«booleano»</td>
<td>Requiere un argumento para ser un booleano.</td>
<td>un «Booleano»</td>
</tr>
<tr class="row-odd"><td>«entero»</td>
<td>Requiere un argumento para ser un entero.</td>
<td>un «entero»</td>
</tr>
<tr class="row-even"><td>«doblenúmero»</td>
<td>Requiere un argumento para ser un doble.</td>
<td>un «Doble»</td>
</tr>
<tr class="row-odd"><td colspan="3"><strong>Objetos de juego</strong></td>
</tr>
<tr class="row-even"><td>«jugador»</td>
<td>Espere un argumento para representar a un jugador en línea. ** ¡Puede devolver varios jugadores! **</td>
<td>instancias de múltiples «jugadores»</td>
</tr>
<tr class="row-odd"><td>«jugadorofuente»</td>
<td>Como «jugador», pero devuelve el remitente del comando si no encuentra ningún jugador coincidente.</td>
<td>instancias de múltiples «jugadores»</td>
</tr>
<tr class="row-even"><td>«usuarioofuente»</td>
<td>Como «jugadorofuente», pero devuelve un usuario en lugar de un jugador.</td>
<td>instancias de múltiples «usuarios»</td>
</tr>
<tr class="row-odd"><td>«mundo»</td>
<td>Espere un argumento para representar un mundo (también incluye mundos descargados).</td>
<td>múltiples «MundosPropiedad»</td>
</tr>
<tr class="row-even"><td>«dimensión»</td>
<td>Espere un argumento para representar una dimensión («FIN», «INFERIOR», «SUPRAMUNDO»).</td>
<td>instancias de múltiples «Tiposdedimensión»</td>
</tr>
<tr class="row-odd"><td>«ubicación»</td>
<td>Espere un argumento para representar una «ubicación».</td>
<td>una «ubicación»</td>
</tr>
<tr class="row-even"><td>“” vector3d””</td>
<td>Espere un argumento para representar un “” Vector3d””.</td>
<td>un “” Vector3d””</td>
</tr>
<tr class="row-odd"><td>«ElementoCatalogado»</td>
<td>Espere un argumento que sea un miembro de la :javadoc: especificado “CatalogType”.</td>
<td>múltiples elementos coincidentes del tipo de catálogo especificado</td>
</tr>
<tr class="row-even"><td colspan="3"><strong>Jugadores</strong></td>
</tr>
<tr class="row-odd"><td>«selección»</td>
<td>Devuelve un argumento que permite seleccionar de un conjunto limitado de valores.</td>
<td>un valor específico</td>
</tr>
<tr class="row-even"><td>«literal»</td>
<td>Espere una secuencia literal de argumentos (por ejemplo, `` «i», «luv», «u» <code class="docutils literal notranslate"><span class="pre">:</span> <span class="pre">``</span> <span class="pre">/</span> <span class="pre">cmd</span> <span class="pre">i</span> <span class="pre">luv</span> <span class="pre">u</span></code>). Lanza un error si los argumentos no coinciden.</td>
<td>un valor específico</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">enumValue</span></code></td>
<td>Requiere que el argumento sea una clave bajo la enumeración proporcionada.</td>
<td>múltiples elementos coincidentes de la enumeración especificada</td>
</tr>
<tr class="row-even"><td colspan="3"><p class="first"><strong>Utilidades</strong></p>
<p class="last">Se puede envolver alrededor de elementos de comando. El tipo de valor se hereda del elemento envuelto.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">seq</span></code></td>
<td>Construye una secuencia de elementos de mando (por ejemplo: “” / cmd &lt;arg1&gt;&lt;arg2&gt;&lt;arg3&gt;””).</td>
<td>heredado</td>
</tr>
<tr class="row-even"><td>«repetido»</td>
<td>Requiere un comando dado para ser provisto un cierto número de veces.</td>
<td>hereditario múltiple</td>
</tr>
<tr class="row-odd"><td>«Todo»</td>
<td>Requiere que todos los argumentos restantes coincidan con el elemento de comando provisto.</td>
<td>hereditario múltiple</td>
</tr>
<tr class="row-even"><td>«opcional»</td>
<td>Hace que el elemento de comando provisto sea opcional. Lanza un error si el argumento es de formato no válido y no hay más argumentos.</td>
<td>heredado</td>
</tr>
<tr class="row-odd"><td>«DebilidadOpcional»</td>
<td>Hace que el elemento de comando provisto sea opcional. No arroja un error si el argumento es de formato no válido y no hay más argumentos.</td>
<td>heredado</td>
</tr>
<tr class="row-even"><td>«primerAnálisis»</td>
<td>Devuelve un elemento de comando que coincide con el primero de los elementos proporcionados que analiza (útil para la sobrecarga de comandos, por ejemplo `` / settime &lt;day | night | &lt;number&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>).</td>
<td>heredado</td>
</tr>
<tr class="row-odd"><td>«soloUno»</td>
<td>Restringe el elemento de comando dado para insertar solo un valor en el contexto en la clave proporcionada.</td>
<td>heredado</td>
</tr>
<tr class="row-even"><td>«comandos»</td>
<td><p class="first">Devuelve un constructor para indicadores de comando (por ejemplo, `` / cmd [-a] [-b &lt;value&gt;] <a href="#id1"><span class="problematic" id="id2">``</span></a>).</p>
<p class="last">Ver :doc:»comandos»</p>
</td>
<td><p class="first">Bandera Corta: un <code class="docutils literal notranslate"><span class="pre">Boolean</span></code></p>
<p>Bandera Larga: un <code class="docutils literal notranslate"><span class="pre">String</span></code></p>
<p class="last">Comando valor: heredado</p>
</td>
</tr>
<tr class="row-odd"><td>«requierePermiso»</td>
<td>Requiere que el remitente de comando tenga el permiso especificado para usar el argumento de comando dado</td>
<td>heredado</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">requiringPermissionWeak</span></code></td>
<td>Requires the command sender to have the specified permission in order to use the given
command argument. Does not throw an error if the user does not have the permission.</td>
<td>heredado</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Vea los Javadocs para: javadoc: <cite>GenericArguments</cite> para más información.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Don’t expect that a <code class="docutils literal notranslate"><span class="pre">CommandElement</span></code>s will only ever return a single value, a lot of them support multiple return
values; some might even support regular expressions or use a command selector. This is intentional as it makes
commands easier to use. Example: <code class="docutils literal notranslate"><span class="pre">/tell</span> <span class="pre">&#64;a</span> <span class="pre">BanditPlayer</span> <span class="pre">has</span> <span class="pre">the</span> <span class="pre">cookies!</span></code>. If you want to make sure to only get a
single value use <code class="docutils literal notranslate"><span class="pre">GenericArguments#onlyOne(CommandElement)</span></code>.</p>
</div>
</div>
<div class="section" id="custom-command-elements">
<h2>Elementos de comando personalizados<a class="headerlink" href="#custom-command-elements" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Es posible crear elementos de comando personalizados (por ejemplo, un analizador de URL o un elemento `` Vector2i``) extendiendo la clase abstracta `` CommandElement``.</p>
<p>El método: javadoc: <cite>CommandElement # parseValue (CommandSource, CommandArgs)</cite> debe buscar una cadena de argumento sin procesar con: javadoc: <cite>CommandArgs # next ()</cite> y convertirlo en un objeto. El método debería arrojar un: javadoc: <cite>ArgumentParseException</cite> si el análisis falla.</p>
<p>El método <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/command/args/CommandElement.html#complete-org.spongepowered.api.command.CommandSource-org.spongepowered.api.command.args.CommandArgs-org.spongepowered.api.command.args.CommandContext-">CommandElement#complete(CommandSource, CommandArgs, CommandContext)</a> debe usar :javadoc: <cite>CommandArgs # peek ()</cite> para leer el siguiente argumento sin formato. Devuelve una lista de sugerencias para completar el TAB.</p>
<div class="section" id="example-vector2i-command-element-definition">
<h3>Ejemplo: definición de elemento de comando `` Vector2i``<a class="headerlink" href="#example-vector2i-command-element-definition" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El analizador en este ejemplo lee dos argumentos de entrada y los convierte a un vector.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">com.flowpowered.math.vector.Vector2i</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.ArgumentParseException</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.CommandArgs</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.Text</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.CommandElement</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vector2iCommandElement</span> <span class="kd">extends</span> <span class="n">CommandElement</span> <span class="p">{</span>

    <span class="kd">protected</span> <span class="nf">Vector2iCommandElement</span><span class="p">(</span><span class="n">Text</span> <span class="n">key</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">super</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="n">Object</span> <span class="nf">parseValue</span><span class="p">(</span><span class="n">CommandSource</span> <span class="n">source</span><span class="p">,</span> <span class="n">CommandArgs</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParseException</span> <span class="p">{</span>

        <span class="n">String</span> <span class="n">xInput</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">parseInt</span><span class="p">(</span><span class="n">xInput</span><span class="p">,</span> <span class="n">args</span><span class="p">);</span>

        <span class="n">String</span> <span class="n">yInput</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">parseInt</span><span class="p">(</span><span class="n">yInput</span><span class="p">,</span> <span class="n">args</span><span class="p">);</span>

        <span class="k">return</span> <span class="k">new</span> <span class="n">Vector2i</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">parseInt</span><span class="p">(</span><span class="n">String</span> <span class="n">input</span><span class="p">,</span> <span class="n">CommandArgs</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParseException</span> <span class="p">{</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="n">NumberFormatException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="n">args</span><span class="p">.</span><span class="na">createError</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="n">input</span> <span class="o">+</span> <span class="s">&quot;&#39; is not a valid number!&quot;</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">complete</span><span class="p">(</span><span class="n">CommandSource</span> <span class="n">src</span><span class="p">,</span> <span class="n">CommandArgs</span> <span class="n">args</span><span class="p">,</span> <span class="n">CommandContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Collections</span><span class="p">.</span><span class="na">emptyList</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Text</span> <span class="nf">getUsage</span><span class="p">(</span><span class="n">CommandSource</span> <span class="n">src</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;&lt;x&gt; &lt;y&gt;&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="example-vector2i-command-element-usage">
<h3>Ejemplo: uso del elemento de comando `` Vector2i``<a class="headerlink" href="#example-vector2i-command-element-usage" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// /plottp &lt;x&gt; &lt;y&gt;</span>
<span class="n">CommandSpec</span> <span class="n">myCommandSpec</span> <span class="o">=</span> <span class="n">CommandSpec</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Teleport to a plot&quot;</span><span class="p">))</span>
        <span class="p">.</span><span class="na">permission</span><span class="p">(</span><span class="s">&quot;myplugin.command.plot.tp&quot;</span><span class="p">)</span>

        <span class="p">.</span><span class="na">arguments</span><span class="p">(</span><span class="k">new</span> <span class="n">Vector2iCommandElement</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;coordinates&quot;</span><span class="p">)))</span>

        <span class="p">.</span><span class="na">executor</span><span class="p">(</span><span class="k">new</span> <span class="n">MyCommandExecutor</span><span class="p">())</span>
        <span class="p">.</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Revise el <cite>código fuente &lt;https://github.com/SpongePowered/SpongeAPI/blob/stable-7/src/main/java/org/spongepowered/api/command/args/GenericArguments.java&gt;</cite> _ de la clase ` <cite>GenericArguments`</cite> para más ejemplos.</p>
</div>
</div>
<div class="section" id="using-selectors-in-custom-command-elements">
<h3>Using Selectors in Custom Command Elements<a class="headerlink" href="#using-selectors-in-custom-command-elements" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Sponge provides support for parsing selectors, meaning that you can make use of them in your custom elements. There
are two steps in using selectors, <strong>parsing</strong> (getting a <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/text/selector/Selector.html">Selector</a> from the string) and <strong>resolving</strong>
(getting a set of <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/entity/Entity.html">Entity</a> objects selected by the selector).</p>
<p>To <strong>parse</strong> a selector string, use the <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/text/selector/Selector.html#parse-java.lang.String-">Selector#parse(String)</a> method, passing the entire selector,
including the <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> symbol. This will turn the string into a <code class="docutils literal notranslate"><span class="pre">Selector</span></code> object that can be queried or resolved.
Note that if the string is not a valid selector, an <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html">IllegalArgumentException</a> will be thrown.</p>
<p>To <strong>resolve</strong> this selector, use <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/text/selector/Selector.html#resolve-org.spongepowered.api.command.CommandSource-">Selector#resolve(CommandSource)</a>. This will return a set of <code class="docutils literal notranslate"><span class="pre">Entity</span></code>
objects selected by the selector.</p>
<p>The following <code class="docutils literal notranslate"><span class="pre">parseValue</span></code> method from the <code class="docutils literal notranslate"><span class="pre">CommandElement</span></code> class attempts to parse a selector and return a set of
entities based on the location of the <code class="docutils literal notranslate"><span class="pre">CommandSource</span></code>. If the passed string does not start with <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>, an exception
will be thrown indicating that the passed argument is not a selector.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="n">Object</span> <span class="nf">parseValue</span><span class="p">(</span><span class="n">CommandSource</span> <span class="n">source</span><span class="p">,</span> <span class="n">CommandArgs</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParseException</span> <span class="p">{</span>
    <span class="n">String</span> <span class="n">nextArg</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">nextArg</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">Set</span><span class="o">&lt;</span><span class="n">Entity</span><span class="o">&gt;</span> <span class="n">selectedEntities</span><span class="p">;</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="n">selectedEntities</span> <span class="o">=</span> <span class="n">Selector</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="n">nextArg</span><span class="p">).</span><span class="na">resolve</span><span class="p">(</span><span class="n">source</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="n">args</span><span class="p">.</span><span class="na">createError</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Could not parse selector.&quot;</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">selectedEntities</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="n">args</span><span class="p">.</span><span class="na">createError</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;No entities selected.&quot;</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">selectedEntities</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">throw</span> <span class="n">args</span><span class="p">.</span><span class="na">createError</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Not a selector.&quot;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Look at the <a class="reference external" href="https://github.com/SpongePowered/SpongeAPI/blob/stable-7/src/main/java/org/spongepowered/api/command/args/SelectorCommandElement.java#L40">SelectorCommandElement source code</a>
for an example of how selector parsing is performed in the standard Sponge <code class="docutils literal notranslate"><span class="pre">CommandElements</span></code>.</p>
</div>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="flags.html" class="btn btn-neutral float-right" title="Banderas de Comando" accesskey="n" rel="next">Siguiente <span class="fa fa-angle-right"></span></a>
        <a href="creating.html" class="btn btn-neutral" title="Compilación de un Comando" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Previo</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../_static/flags/es_ES.svg"
         alt="es" title="Español">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../_static/jquery.js"></script>      <script type="text/javascript" src="../../_static/underscore.js"></script>      <script type="text/javascript" src="../../_static/doctools.js"></script>      <script type="text/javascript" src="../../_static/language_data.js"></script>      <script type="text/javascript" src="../../_static/translations.js"></script>      <script type="text/javascript" src="../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Настройки производительности &mdash; Документация Sponge 7.2.0</title>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Алфавитный указатель"
              href="../../genindex.html"/>        <link rel="search" title="Поиск" href="../../search.html"/>    <link rel="top" title="Документация Sponge 7.2.0" href="../../index.html"/>        <link rel="up" title="Управление сервером" href="index.html"/>        <link rel="next" title="Станьте специалистом по работе с серверами Sponge" href="../spongineer/index.html"/>        <link rel="prev" title="Патчи уязвимостей" href="exploit-patches.html"/>
    <!-- Google Analytics -->
    <script>
        (function(S,p,o,n,g,i,e){S['GoogleAnalyticsObject']=g;S[g]=S[g]||function(){
        (S[g].q=S[g].q||[]).push(arguments)},S[g].l=1*new Date();i=p.createElement(o),
        e=p.getElementsByTagName(o)[0];i.async=1;i.src=n;e.parentNode.insertBefore(i,e)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-59476017-2', 'auto');
        ga('send', 'pageview');
    </script>

  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../index.html">
            <img src="../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Создание сервера</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html">Краткое руководство</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/index.html">Начало работы</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Управление сервером</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="whitelist.html">Управление белым списком</a></li>
<li class="toctree-l3"><a class="reference internal" href="bans.html">Управление блокировками</a></li>
<li class="toctree-l3"><a class="reference internal" href="permissions.html">Управление правами игроков</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugins.html">Установка плагинов</a></li>
<li class="toctree-l3"><a class="reference internal" href="exploit-patches.html">Патчи уязвимостей</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Настройки производительности</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../spongineer/index.html">Станьте специалистом по работе с серверами Sponge</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions/index.html">Versioning Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Подготовка к разработке</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../plugin/index.html">Создание плагина</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ore/index.html">Документация Ore</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Участие в разработке Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">О проекте Sponge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
          <li><a href="../index.html">Создание сервера</a> &raquo;</li>
          <li><a href="index.html">Управление сервером</a> &raquo;</li>
    <li>Настройки производительности</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/server/management/performance-tweaks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="performance-tweaks">
<h1>Настройки производительности<a class="headerlink" href="#performance-tweaks" title="Ссылка на этот заголовок">¶</a></h1>
<p>Sponge предлагает несколько улучшений производительности и настройки, которые помогут вам без проблем запустить сервер даже при большой нагрузке.</p>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last">Хотя мы стараемся повысить производительность каждого сервера, ваш выигрыш в производительности зависит от вашей настройки. Понадобиться много тестов, чтобы настроить сервер Sponge максимально качественно!</p>
</div>
<div class="section" id="entity-activation-range">
<h2><strong>Диапазон активации сущностей</strong><a class="headerlink" href="#entity-activation-range" title="Ссылка на этот заголовок">¶</a></h2>
<p>Эта настройка изменит поведение загрузки объектов вокруг игроков. Понижение этого значения приведет только к загрузке близких объектов, а повышение-к загрузке объектов, находящихся далеко от игрока. Понизьте это значение, чтобы повысить производительность вашего сервера, особенно с высоким количеством сущностей и игроков. Чтобы отключить диапазон активации для конкретного объекта, установите его значение равным «0».</p>
<div class="admonition tip">
<p class="first admonition-title">Совет</p>
<p class="last">Можно указать диапазон активации <em>для каждой моба</em>. Вы можете установить значение <code class="docutils literal notranslate"><span class="pre">true</span></code> для параметра <code class="docutils literal notranslate"><span class="pre">auto-populate</span></code> и Sponge затем добавит всех доступных мобов в список диапазона активации, рекомендуется отключить его после заполнения списка. Если вы добавляете новых мобов в игру, просто повторите процедуру и они также будут добавлены в список ниже.</p>
</div>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="err">entity-activation-range {</span>
<span class="err">    # If enabled, newly discovered entities will be added to this config with a default value.</span>
<span class="err">    auto-populate=false</span>
<span class="err">    # Default activation ranges used for all entities unless overridden.</span>
<span class="err">    defaults {</span>
<span class="err">        ambient=32</span>
<span class="err">        aquatic=32</span>
<span class="err">        creature=32</span>
<span class="err">        misc=16</span>
<span class="err">        monster=32</span>
<span class="err">    }</span>
<span class="err">}</span>
</pre></div>
</div>
</div>
<div class="section" id="async-lighting">
<h2>Асинхронное освещение<a class="headerlink" href="#async-lighting" title="Ссылка на этот заголовок">¶</a></h2>
<p>Этот параметр перенесёт проверки освещения в отдельный поток для повышения производительности.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="err">optimizations {</span>
<span class="err">    # Runs lighting updates async.</span>
<span class="err">    async-lighting {</span>
<span class="err">        # If enabled, runs lighting updates async.</span>
<span class="err">        enabled=true</span>
<span class="err">        # The amount of threads to dedicate for async lighting updates. (Default: 2)</span>
<span class="err">        num-threads=2</span>
<span class="err">    }</span>
<span class="err">}</span>
</pre></div>
</div>
</div>
<div class="section" id="cache-tameable-owners">
<h2>Кэширование владельцев прирученных сущностей<a class="headerlink" href="#cache-tameable-owners" title="Ссылка на этот заголовок">¶</a></h2>
<p>Этот параметр будет кэшировать UUID владельцев приручаемых сущностей для сохранения постоянных запросов из наблюдателя данных.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="err">optimizations {</span>
<span class="err">    # Caches tameable entities owners to avoid constant lookups against data watchers. If mods cause issue, disable.</span>
<span class="err">    cache-tameable-owners=true</span>
<span class="err">}</span>
</pre></div>
</div>
</div>
<div class="section" id="drops-pre-merge">
<h2>Слияние выброшенных предметов<a class="headerlink" href="#drops-pre-merge" title="Ссылка на этот заголовок">¶</a></h2>
<p>Этот параметр будет предварительно обрабатывать и, возможно, объединять элементы, чтобы избежать появления дополнительных объектов, которые затем объединяются после появления.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="err">optimizations {</span>
<span class="err">    # If enabled, block item drops are pre-processed to avoid</span>
<span class="err">    # having to spawn extra entities that will be merged post spawning.</span>
<span class="err">    # Usually, Sponge is smart enough to determine when to attempt an item pre-merge</span>
<span class="err">    # and when not to, however, in certain cases, some mods rely on items not being</span>
<span class="err">    # pre-merged and actually spawned, in which case, the items will flow right through</span>
<span class="err">    # without being merged.</span>
<span class="err">    drops-pre-merge=true</span>
<span class="err">}</span>
</pre></div>
</div>
</div>
<div class="section" id="panda-redstone">
<h2>Panda Redstone<a class="headerlink" href="#panda-redstone" title="Ссылка на этот заголовок">¶</a></h2>
<p>Альтернативный алгоритм обновления редстоуна. При изменении состояния редстоуна происходит меньшее количество обновлений блока.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="err">optimizations {</span>
<span class="err">    # If enabled, uses Panda4494&#39;s Redstone implementation which improves performance.</span>
<span class="err">    # See https://bugs.mojang.com/browse/MC-11193 for more information.</span>
<span class="err">    # Note: This optimization has a few issues which is explained in the bug report. We are not responsible for any issues this may cause.</span>
<span class="err">    panda-redstone=false</span>
<span class="err">}</span>
</pre></div>
</div>
</div>
<div class="section" id="auto-saving-interval-adjustment">
<h2>Настройка интервала автоматического сохранения<a class="headerlink" href="#auto-saving-interval-adjustment" title="Ссылка на этот заголовок">¶</a></h2>
<p>Vanilla Minecraft по умолчанию сохраняет все чанки каждые 900 тиков (45 секунд). Если вы хотите увеличить или уменьшить этот интервал, измените его в файле <code class="docutils literal notranslate"><span class="pre">global.conf</span></code>:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">world</span> <span class="err">{</span>
    <span class="o">#</span> <span class="n">The</span> <span class="n">auto</span><span class="o">-</span><span class="n">save</span> <span class="n">tick</span> <span class="nb">interval</span> <span class="n">used</span> <span class="k">when</span> <span class="n">saving</span> <span class="k">global</span> <span class="n">player</span> <span class="k">data</span><span class="p">.</span>
    <span class="o">#</span> <span class="k">Set</span> <span class="k">to</span> <span class="mi">0</span> <span class="k">to</span> <span class="n">disable</span><span class="p">.</span> <span class="p">(</span><span class="k">Default</span><span class="p">:</span> <span class="mi">900</span><span class="p">)</span> <span class="n">Note</span><span class="p">:</span> <span class="mi">20</span> <span class="n">ticks</span> <span class="k">is</span> <span class="n">equivalent</span> <span class="k">to</span> <span class="mi">1</span> <span class="k">second</span><span class="p">.</span>
    <span class="n">auto</span><span class="o">-</span><span class="n">player</span><span class="o">-</span><span class="n">save</span><span class="o">-</span><span class="nb">interval</span><span class="o">=</span><span class="mi">900</span>

    <span class="o">#</span> <span class="n">The</span> <span class="n">auto</span><span class="o">-</span><span class="n">save</span> <span class="n">tick</span> <span class="nb">interval</span> <span class="n">used</span> <span class="k">to</span> <span class="n">save</span> <span class="k">all</span> <span class="n">loaded</span> <span class="n">chunks</span> <span class="k">in</span> <span class="n">a</span> <span class="n">world</span><span class="p">.</span>
    <span class="o">#</span> <span class="k">Set</span> <span class="k">to</span> <span class="mi">0</span> <span class="k">to</span> <span class="n">disable</span><span class="p">.</span> <span class="p">(</span><span class="k">Default</span><span class="p">:</span> <span class="mi">900</span><span class="p">)</span> <span class="n">Note</span><span class="p">:</span> <span class="mi">20</span> <span class="n">ticks</span> <span class="k">is</span> <span class="n">equivalent</span> <span class="k">to</span> <span class="mi">1</span> <span class="k">second</span><span class="p">.</span>
    <span class="n">auto</span><span class="o">-</span><span class="n">save</span><span class="o">-</span><span class="nb">interval</span><span class="o">=</span><span class="mi">900</span>
<span class="err">}</span>
</pre></div>
</div>
<p>Сокращение этого интервала увеличивает нагрузку на процессор и память вашего сервера, но уменьшает потери данных, которые могут возникнуть при блокировке сервера или сбое питания. И наоборот, увеличение интервала автосохранения уменьшает нагрузку на оборудование, но за счет увеличения количества игрового прогресса, который может быть потерян в случае сбоя сервера.</p>
</div>
<div class="section" id="realtime">
<h2>Realtime<a class="headerlink" href="#realtime" title="Ссылка на этот заголовок">¶</a></h2>
<p>Этот параметр обеспечит комфортную игру при низком тикрейте, но не улучшит производительность. Ограниченный набор сущностей и время мира для обновления будет использовать реальное время вместо тиков.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="err">modules {</span>
<span class="err">    # Use real (wall) time instead of ticks as much as possible</span>
<span class="err">    realtime=false</span>
<span class="err">}</span>
</pre></div>
</div>
<p>Наглядный пример — детёныши животных. Как правило, чтобы вырасти им нужно 20 минут. Однако, при проседаниях и тормозах на сервере, количество тиков на каждое животное уменьшится, тем самым увеличивая время их роста. Параметр realtime меняет их логику в сторону использования настоящего времени, а не тиков. Также это повлияет на ломание блоков, так что теперь не придётся «ломать один и тот же блок много раз».</p>
</div>
<div class="section" id="deny-chunk-requests">
<h2>Запретить запросы чанков<a class="headerlink" href="#deny-chunk-requests" title="Ссылка на этот заголовок">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">Это экспериментальная настройка для повышения производительности, мы рекомендуем не включать ее, когда у вас есть моды на сервере, и отключать ее, если у вас возникли какие-либо проблемы с загрузкой тайтлов.</p>
</div>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="err">world {</span>
<span class="err">    # If enabled, any request for a chunk not currently loaded will be denied (exceptions apply for things like world gen and player movement).</span>
<span class="err">    # Note: As this is an experimental setting for performance gain, if you encounter any issues then we recommend disabling it.</span>
<span class="err">    deny-chunk-requests=false</span>
<span class="err">}</span>
</pre></div>
</div>
<p>When this option is enabled, mods requesting areas to be loaded to perform various tasks will be denied. Only players
and specific world generation calls will be allowed to load new chunks.</p>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../spongineer/index.html" class="btn btn-neutral float-right" title="Станьте специалистом по работе с серверами Sponge" accesskey="n" rel="next">Далее <span class="fa fa-angle-right"></span></a>
        <a href="exploit-patches.html" class="btn btn-neutral" title="Патчи уязвимостей" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Назад</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../_static/flags/ru_RU.svg"
         alt="ru" title="Русский">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../_static/jquery.js"></script>      <script type="text/javascript" src="../../_static/underscore.js"></script>      <script type="text/javascript" src="../../_static/doctools.js"></script>      <script type="text/javascript" src="../../_static/language_data.js"></script>      <script type="text/javascript" src="../../_static/translations.js"></script>      <script type="text/javascript" src="../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>
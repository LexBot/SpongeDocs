
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Метаданные плагина &mdash; Документация Sponge 7.2.0</title>

    <link rel="shortcut icon" href="../_static/favicon.ico"/>




    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Алфавитный указатель"
              href="../genindex.html"/>        <link rel="search" title="Поиск" href="../search.html"/>    <link rel="top" title="Документация Sponge 7.2.0" href="../index.html"/>        <link rel="up" title="Создание плагина" href="index.html"/>        <link rel="next" title="Трассировка лучей" href="ray-tracing.html"/>        <link rel="prev" title="Таблисты" href="tab-lists.html"/>
    <!-- Google Analytics -->
    <script>
        (function(S,p,o,n,g,i,e){S['GoogleAnalyticsObject']=g;S[g]=S[g]||function(){
        (S[g].q=S[g].q||[]).push(arguments)},S[g].l=1*new Date();i=p.createElement(o),
        e=p.getElementsByTagName(o)[0];i.async=1;i.src=n;e.parentNode.insertBefore(i,e)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-59476017-2', 'auto');
        ga('send', 'pageview');
    </script>

  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../index.html">
            <img src="../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">Создание сервера</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../versions/index.html">Versioning Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preparing/index.html">Подготовка к разработке</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Создание плагина</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="api-versions.html">Версии API</a></li>
<li class="toctree-l2"><a class="reference internal" href="buildsystem.html">Система сборки</a></li>
<li class="toctree-l2"><a class="reference internal" href="workspace/index.html">Подготовка рабочего пространства</a></li>
<li class="toctree-l2"><a class="reference internal" href="project/index.html">Настройка проекта</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-identifier.html">Идентификаторы плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-class.html">Основной класс плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="lifecycle.html">Жизненный цикл плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="injection.html">Внедрение зависимостей</a></li>
<li class="toctree-l2"><a class="reference internal" href="practices/index.html">Полезные советы</a></li>
<li class="toctree-l2"><a class="reference internal" href="optional/index.html">Дополнительно</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Ведение логов (журналов) и отладка</a></li>
<li class="toctree-l2"><a class="reference internal" href="text/index.html">Текст</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands/index.html">Команды</a></li>
<li class="toctree-l2"><a class="reference internal" href="event/index.html">События</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/index.html">Настройка плагинов</a></li>
<li class="toctree-l2"><a class="reference internal" href="assets.html">API ресурсов</a></li>
<li class="toctree-l2"><a class="reference internal" href="data/index.html">API данных</a></li>
<li class="toctree-l2"><a class="reference internal" href="blocks/index.html">Блоки</a></li>
<li class="toctree-l2"><a class="reference internal" href="entities/index.html">Сущности</a></li>
<li class="toctree-l2"><a class="reference internal" href="items/index.html">Предметы</a></li>
<li class="toctree-l2"><a class="reference internal" href="trade-offers.html">Торговля</a></li>
<li class="toctree-l2"><a class="reference internal" href="effects.html">Эффекты</a></li>
<li class="toctree-l2"><a class="reference internal" href="scheduler.html">Планировщик</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html">Сервисы</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html">Базы данных</a></li>
<li class="toctree-l2"><a class="reference internal" href="permissions.html">Разрешения</a></li>
<li class="toctree-l2"><a class="reference internal" href="bans.html">Баны</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">Сбор данных</a></li>
<li class="toctree-l2"><a class="reference internal" href="bookview.html">Книга просмотров</a></li>
<li class="toctree-l2"><a class="reference internal" href="economy/index.html">Экономика</a></li>
<li class="toctree-l2"><a class="reference internal" href="wgen/index.html">Генерация мира</a></li>
<li class="toctree-l2"><a class="reference internal" href="manager.html">Менеджер плагинов</a></li>
<li class="toctree-l2"><a class="reference internal" href="game-profile-manager.html">Игровой менеджер профилей</a></li>
<li class="toctree-l2"><a class="reference internal" href="offline-userplayer-data.html">Данные о вышедших игроках</a></li>
<li class="toctree-l2"><a class="reference internal" href="tab-lists.html">Таблисты</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Метаданные плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="ray-tracing.html">Трассировка лучей</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Отладка плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html">Учебные руководства</a></li>
<li class="toctree-l2"><a class="reference internal" href="internals/index.html">Implementation-dependent Plugins</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ore/index.html">Документация Ore</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Участие в разработке Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">О проекте Sponge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
          <li><a href="index.html">Создание плагина</a> &raquo;</li>
    <li>Метаданные плагина</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/plugin/plugin-meta.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="plugin-metadata">
<h1>Метаданные плагина<a class="headerlink" href="#plugin-metadata" title="Ссылка на этот заголовок">¶</a></h1>
<p>Добавление метаданных в плагин помогает пользователям легче идентифицировать ваш плагин, предоставляя им возможность получить имя, версию, описание или список авторов плагина во время исполнения. Эта информация так же используется при публикации плагинов на различных ресурсах, таких как <a class="reference external" href="https://github.com/SpongePowered/Ore">Ore</a>.</p>
<p>На данный момент Sponge поддерживает следующие типы метаданных:</p>
<ul class="simple">
<li>ID плагина, название, версия</li>
<li>Описание</li>
<li>URL-адрес (например, веб-сайт)</li>
<li>Авторы</li>
<li>Зависимости плагина</li>
</ul>
<div class="section" id="plugin-annotation">
<h2>Аннотация Plugin<a class="headerlink" href="#plugin-annotation" title="Ссылка на этот заголовок">¶</a></h2>
<p>Вы можете определить дополнительные (необязательные) метаданные плагина в аннотации <code class="docutils literal notranslate"><span class="pre">&#64;Plugin</span></code>. Вы можете предоставить всю мета-информацию в аннотации, несмотря на то, что требуется только идентификатор. Аннотация <code class="docutils literal notranslate"><span class="pre">&#64;Plugin</span></code>, которая использует все доступные поля, выглядит так:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.plugin.Plugin</span><span class="p">;</span>

<span class="nd">@Plugin</span><span class="p">(</span><span class="n">id</span> <span class="o">=</span> <span class="s">&quot;myplugin&quot;</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;My Plugin&quot;</span><span class="p">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s">&quot;This is a very cool plugin I made for me&quot;</span><span class="p">,</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">&quot;http://example.com&quot;</span><span class="p">,</span>
    <span class="n">authors</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;Spongie&quot;</span><span class="p">,</span> <span class="s">&quot;FLARD&quot;</span><span class="p">},</span>
    <span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span><span class="nd">@Dependency</span><span class="p">(</span><span class="n">id</span> <span class="o">=</span> <span class="s">&quot;otherplugin&quot;</span><span class="p">,</span> <span class="n">optional</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)})</span>
</pre></div>
</div>
<p>Для каждой <code class="docutils literal notranslate"><span class="pre">&#64;Dependency</span></code>, которую вы запрашиваете, вы также можете указать параметр <code class="docutils literal notranslate"><span class="pre">version</span></code>, определяющий диапазон версий в соответствии с <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/plugin/Dependency.html#version--">Dependency#version()</a>. Параметр <code class="docutils literal notranslate"><span class="pre">optional</span></code> указывает, что ваш плагин может работать, даже если данной зависимости нет. Если зависимость не указана как необязательна, то отсутствие какой-либо зависимости предотвратит загрузку вашего плагина.</p>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last">Для параметра <code class="docutils literal notranslate"><span class="pre">authors</span></code> и <code class="docutils literal notranslate"><span class="pre">dependencies</span></code> фигурные скобки могут быть пропущены, если указан только один элемент, например, <code class="docutils literal notranslate"><span class="pre">dependencies</span> <span class="pre">=</span> <span class="pre">&#64;Dependency(id</span> <span class="pre">=</span> <span class="pre">&quot;otherplugin&quot;,</span> <span class="pre">optional</span> <span class="pre">=</span> <span class="pre">true)</span></code> в приведенном выше примере.</p>
</div>
</div>
<div class="section" id="file-metadata">
<h2>Метаданные в файле<a class="headerlink" href="#file-metadata" title="Ссылка на этот заголовок">¶</a></h2>
<p>Дополнительно к аннотации с метаданными, определенной в плагине, мы так же рекомендуем включать в плагины файл с метаданными. Такой подход имеет ряд достоинств:</p>
<ul class="simple">
<li>Более простая интеграция с системами сборки (к примеру, автоматическая вставка версии сборки в метаданные плагина)</li>
<li>Ресурсам посвященным плагинам проще анализировать метаданные плагина (нет необходимости разбирать class файлы)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last"><strong>Мы настоятельно рекомендуем публичным плагинам включать файл с метаданными.</strong> Ресурсам посвященным плагинам, таким как <a class="reference external" href="https://github.com/SpongePowered/Ore">Ore</a>, могут потребоваться метаданные из файла. См. <a class="reference internal" href="#using-the-annotation-processor">Using the Annotation Processor</a> для простого способа генерации файла. Ресурс может вывести предупреждение, если в плагине отсутствует файл с метаданными.</p>
</div>
<div class="section" id="the-mcmod-info-format">
<h3>Формат mcmod.info<a class="headerlink" href="#the-mcmod-info-format" title="Ссылка на этот заголовок">¶</a></h3>
<p>Для Sponge плагинов мы используем файл <code class="docutils literal notranslate"><span class="pre">mcmod.info</span></code>, включенный в корень вашего JAR плагина. Формат файла был унаследован у Forge, так как данный формат успешно использовался несколькими проектами Minecraft сообществ.</p>
<p><code class="docutils literal notranslate"><span class="pre">mcmod.info</span></code> это обычный <a class="reference external" href="https://en.wikipedia.org/wiki/JSON">JSON</a> файл, который определяет метаданные плагина как простые поля. Ниже приведен пример файла, который может быть включен в Sponge плагин:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span>
    <span class="nt">&quot;modid&quot;</span><span class="p">:</span> <span class="s2">&quot;myplugin&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Plugin&quot;</span><span class="p">,</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a very cool plugin I made for me&quot;</span><span class="p">,</span>
    <span class="nt">&quot;authorList&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;Spongie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;FLARD&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;otherplugin&quot;</span>
    <span class="p">]</span>
<span class="p">}]</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-annotation-processor">
<h3>Использование процессора аннотаций<a class="headerlink" href="#using-the-annotation-processor" title="Ссылка на этот заголовок">¶</a></h3>
<p>Написание дополнительного файла весьма раздражает. К счастью, для этого не требуется особых усилий. При компиляции вашего плагина, SpongeAPI способен генерировать этот файл автоматически на основе информации, представленной в аннотации <code class="docutils literal notranslate"><span class="pre">&#64;Plugin</span></code>.</p>
<div class="section" id="enabling">
<h4>Включение<a class="headerlink" href="#enabling" title="Ссылка на этот заголовок">¶</a></h4>
<p>If you’re using a build system such as Gradle or Maven and have not explicitly disabled annotation processing there is
nothing extra you need to do. By default, the annotation processor will automatically run and generate a <code class="docutils literal notranslate"><span class="pre">mcmod.info</span></code>
file based on the contents of your <code class="docutils literal notranslate"><span class="pre">&#64;Plugin</span></code> annotation.</p>
<p>Если вы не используете систем сборки, то вам необходимо вручную включать процессор аннотаций.</p>
</div>
<div class="section" id="build-system-integration">
<h4>Интеграция с системами сборки<a class="headerlink" href="#build-system-integration" title="Ссылка на этот заголовок">¶</a></h4>
<p>Если вы используете Gradle, то <a class="reference external" href="https://github.com/SpongePowered/SpongeGradle">SpongeGradle</a> обеспечит вам дополнительную интеграцию метаданных Gradle и метаданных плагина. Например он автоматически включит версию сборки, описанную в скрипте сборки Gradle, в ваши метаданные плагина. См. <a class="reference internal" href="project/gradle.html"><span class="doc">Настройка Gradle</span></a> для деталей.</p>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last">If you’re using the NetBeans IDE make sure you’ve unchecked the <em>Compile On Save</em> option under
<em>Project Properties &gt; Build &gt; Compile</em> to make sure the mcmod.info file will be generated correctly.</p>
</div>
</div>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ray-tracing.html" class="btn btn-neutral float-right" title="Трассировка лучей" accesskey="n" rel="next">Далее <span class="fa fa-angle-right"></span></a>
        <a href="tab-lists.html" class="btn btn-neutral" title="Таблисты" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Назад</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../_static/flags/ru_RU.svg"
         alt="ru" title="Русский">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../_static/jquery.js"></script>      <script type="text/javascript" src="../_static/underscore.js"></script>      <script type="text/javascript" src="../_static/doctools.js"></script>      <script type="text/javascript" src="../_static/language_data.js"></script>      <script type="text/javascript" src="../_static/translations.js"></script>      <script type="text/javascript" src="../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>
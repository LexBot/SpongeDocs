
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API данных &mdash; Документация Sponge 7.2.0</title>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Алфавитный указатель"
              href="../../genindex.html"/>        <link rel="search" title="Поиск" href="../../search.html"/>    <link rel="top" title="Документация Sponge 7.2.0" href="../../index.html"/>        <link rel="up" title="Создание плагина" href="../index.html"/>        <link rel="next" title="Custom Data" href="custom/index.html"/>        <link rel="prev" title="API ресурсов" href="../assets.html"/>
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../index.html">
            <img src="../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Создание сервера</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions/index.html">Versioning Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Подготовка к разработке</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Создание плагина</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-versions.html">Версии API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">Система сборки</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">Подготовка рабочего пространства</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">Настройка проекта</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">Идентификаторы плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">Основной класс плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">Жизненный цикл плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">Внедрение зависимостей</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practices/index.html">Полезные советы</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">Дополнительно</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Ведение логов (журналов) и отладка</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">Текст</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Команды</a></li>
<li class="toctree-l2"><a class="reference internal" href="../event/index.html">События</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Настройка плагинов</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">API ресурсов</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">API данных</a><ul>
<li class="toctree-l3"><a class="reference internal" href="custom/index.html">Custom Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="catalog-types.html">Catalog Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="keys.html">Использование ключей</a></li>
<li class="toctree-l3"><a class="reference internal" href="datamanipulators.html">Манипуляторы данных</a></li>
<li class="toctree-l3"><a class="reference internal" href="transactions.html">Transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="serialization.html">Сериализация данных</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">Блоки</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">Сущности</a></li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">Предметы</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trade-offers.html">Торговля</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">Эффекты</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">Планировщик</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">Сервисы</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Базы данных</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">Разрешения</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">Баны</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">Сбор данных</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">Книга просмотров</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">Экономика</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">Генерация мира</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">Менеджер плагинов</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">Игровой менеджер профилей</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">Данные о вышедших игроках</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">Таблисты</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">Метаданные плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">Трассировка лучей</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">Отладка плагина</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Учебные руководства</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/index.html">Implementation-dependent Plugins</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ore/index.html">Документация Ore</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Участие в разработке Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">О проекте Sponge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
          <li><a href="../index.html">Создание плагина</a> &raquo;</li>
    <li>API данных</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugin/data/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="the-data-api">
<h1>API данных<a class="headerlink" href="#the-data-api" title="Ссылка на этот заголовок">¶</a></h1>
<p>Единый API данных стремится обеспечить последовательный способ доступа и изменения данных. «Данные» в этом контексте означает любые данные, последовательно синхронизированные между клиентом и сервером. Они могут быть изменены на стороне сервера, и после этого будут синхронизированы с клиентами. Понятие «Данные» включает в себя, среди многих других, текст на табличке, внешний вид лошади лошади или здоровье любого живого существа.</p>
<p>Where other approaches define the available data using interfaces and inheritance (like a <code class="docutils literal notranslate"><span class="pre">LivingEntity</span></code>
interface providing getter and setter functions for current and maximum health), in Sponge every entity, block
etc. is completely oblivious to what data it holds. While this may appear less straightforward than direct
accessor methods, it is foremost far more extensible. And thanks to the addition of <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/key/Key.html">Key</a>s, simply accessing
specific values is no less straightforward.</p>
<div class="admonition tip">
<p class="first admonition-title">Совет</p>
<p class="last">If the data API behaves differently from what you expect (e.g. returns an empty <code class="docutils literal notranslate"><span class="pre">Optional</span></code> even if the data are
supposed to be present), or there is a feature/value missing that you need, check the <a class="reference external" href="https://github.com/SpongePowered/SpongeCommon/issues/8">Implementation Tracker</a>, ask in the <code class="docutils literal notranslate"><span class="pre">#spongedev</span></code> IRC channel,
in the <code class="docutils literal notranslate"><span class="pre">#dev</span></code> Discord channel,  or on the <a class="reference external" href="https://forums.spongepowered.org">Forums</a>.</p>
</div>
<div class="section" id="concepts">
<h2>Концепты<a class="headerlink" href="#concepts" title="Ссылка на этот заголовок">¶</a></h2>
<p>На первый взгляд в документацию, API данных угрожает ошеломить вас с большим количеством интерфейсов и пакетов. Но просто используя API данных, вам не придется иметь дело со многими из них, ведь большинство интерфейсов - это только определенные манипуляторы данных.</p>
<div class="section" id="catalogtypes">
<h3>CatalogTypes<a class="headerlink" href="#catalogtypes" title="Ссылка на этот заголовок">¶</a></h3>
<p><a class="reference internal" href="catalog-types.html"><span class="doc">Catalog Types</span></a> are groups of values that can be used in certain context. Famous examples of these types are
<a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/block/BlockType.html">BlockType</a>s, <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/entity/EntityType.html">EntityType</a>s and <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/item/ItemType.html">ItemType</a>s.</p>
</div>
<div class="section" id="dataholder">
<h3>Хранитель данных<a class="headerlink" href="#dataholder" title="Ссылка на этот заголовок">¶</a></h3>
<p>Хранитель данных - это что - то, хранящее данные. Он предоставляет методы для извлечения и возврата данных. Сам интерфейс полностью не обращает внимания на тип данных. Поскольку этим знанием будет обладать только реализация, можно просить :javadoc: «DataHolder» предоставить данные, которых он не имеет или принимать данные, которые он не может использовать. В этих случаях возвращаемые значения методов будет предоставлять информацию, что данные не доступны (через „“ Optional.empty()““) или не приняты (через :doc: «DataTransactionResult &lt;transactions&gt;»).</p>
</div>
<div class="section" id="property">
<h3>Параметр<a class="headerlink" href="#property" title="Ссылка на этот заголовок">¶</a></h3>
<p>A property too is data, but not synchronized between server and clients. Therefore, it can only be
changed by modifications present on both client and server. Since Sponge is not intended to require a
client-side counterpart, properties are not modifiable.
Examples of properties are the harvesting abilities on tools (represented as <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/property/item/HarvestingProperty.html">HarvestingProperty</a> or the damage
absorption of an equipable armor item (represented as <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/property/item/DamageAbsorptionProperty.html">DamageAbsorptionProperty</a>).</p>
</div>
<div class="section" id="datamanipulator">
<h3>Манипулятор данными<a class="headerlink" href="#datamanipulator" title="Ссылка на этот заголовок">¶</a></h3>
<p>Манипулятор данных представляет точки данных, описывающих определенный компонент его обладателя. Например :javadoc: «HealthData», который содержит текущее и максимальное здоровье. Если владелец данных имеет „“ HealthData““, он имеет здоровье, которое может как-то уменьшаться, и умрёт, если здоровье полностью исчерпается. Это позволяет повторно использовать такие компоненты через API и предотвращает дублирование методов доступа. Например овца, блоки стекла и кожаные доспехи могут обмениваться :javadoc: «DyeableData», имеющими цвет, в который они окрашены.</p>
</div>
<div class="section" id="key">
<h3>Ключ<a class="headerlink" href="#key" title="Ссылка на этот заголовок">¶</a></h3>
<p>„“ Ключ „“ — это уникальный идентификатор для одной точки данных и может использоваться чтобы напрямую считывать или устанавливать точку данных, не беспокоясь о данных манипуляторов. Он был разработан для предоставления удобного доступа к данным и похож на методы getter/setter. Все ключи, используемые в Sponge, перечислены как константы в классе <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/key/Keys.html">Keys</a>.</p>
</div>
<div class="section" id="value">
<h3>Value<a class="headerlink" href="#value" title="Ссылка на этот заголовок">¶</a></h3>
<p>Within the Data API, a value referred to by a <code class="docutils literal notranslate"><span class="pre">Key</span></code> is encoded in a container object. For this documentation,
it is referred to as „keyed value“ to avoid confusion with the actual value. A keyed value encapsulates the
actual data value (if it is present), a default value (to be used if no direct value is present) and the Key by
which the value is identified.</p>
</div>
</div>
<div class="section" id="contents">
<h2>Содержание<a class="headerlink" href="#contents" title="Ссылка на этот заголовок">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="custom/index.html">Custom Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom/datamanipulators.html">Custom DataManipulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom/dataholders.html">Custom DataHolders</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom/serialization.html">Serializing Custom Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="catalog-types.html">Catalog Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="keys.html">Использование ключей</a></li>
<li class="toctree-l1"><a class="reference internal" href="datamanipulators.html">Манипуляторы данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="transactions.html">Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="serialization.html">Сериализация данных</a></li>
</ul>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="custom/index.html" class="btn btn-neutral float-right" title="Custom Data" accesskey="n" rel="next">Далее <span class="fa fa-angle-right"></span></a>
        <a href="../assets.html" class="btn btn-neutral" title="API ресурсов" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Назад</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../_static/flags/ru_RU.svg"
         alt="ru" title="Русский">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../_static/jquery.js"></script>      <script type="text/javascript" src="../../_static/underscore.js"></script>      <script type="text/javascript" src="../../_static/doctools.js"></script>      <script type="text/javascript" src="../../_static/language_data.js"></script>      <script type="text/javascript" src="../../_static/translations.js"></script>      <script type="text/javascript" src="../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>
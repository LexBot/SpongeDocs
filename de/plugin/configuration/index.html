
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plugins konfigurieren &mdash; Sponge 7.2.0 Dokumentation</title>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Stichwortverzeichnis"
              href="../../genindex.html"/>        <link rel="search" title="Suche" href="../../search.html"/>    <link rel="top" title="Sponge 7.2.0 Dokumentation" href="../../index.html"/>        <link rel="up" title="Plugins erstellen" href="../index.html"/>        <link rel="next" title="ConfigurationLoader" href="loaders.html"/>        <link rel="prev" title="Benutzerdefinierte Ereignisse" href="../event/custom.html"/>
    <!-- Google Analytics -->
    <script>
        (function(S,p,o,n,g,i,e){S['GoogleAnalyticsObject']=g;S[g]=S[g]||function(){
        (S[g].q=S[g].q||[]).push(arguments)},S[g].l=1*new Date();i=p.createElement(o),
        e=p.getElementsByTagName(o)[0];i.async=1;i.src=n;e.parentNode.insertBefore(i,e)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-59476017-2', 'auto');
        ga('send', 'pageview');
    </script>

  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../index.html">
            <img src="../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Einen Server erstellen</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions/index.html">Versionsrichtlinie</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Die Arbeitsumgebung einrichten</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Plugins erstellen</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-versions.html">API-Versionen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">Build Systeme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">Den Arbeitsbereich einrichten</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">Das Projekt einrichten</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">Plugin Identifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">Hauptklasse des Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">Der Plugin-Lebenszyklus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">Dependency Injection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practices/index.html">Vorgehensweisen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">Optionals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Loggen und Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Plugin Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../event/index.html">Events</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Plugins konfigurieren</a><ul>
<li class="toctree-l3"><a class="reference internal" href="loaders.html">ConfigurationLoader</a></li>
<li class="toctree-l3"><a class="reference internal" href="nodes.html">Nodes konfigurieren</a></li>
<li class="toctree-l3"><a class="reference internal" href="serialization.html">Serialisieren von Objekten</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">Die Dateianhang API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">The Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">Blöcke</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">Gegenstände</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trade-offers.html">Trade-Offers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">Effekte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">Scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Datenbanken</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">Banne</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">Metrics Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">Bücher</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">Wirtschaft</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">Weltgenerierung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">Plugin-Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">Game Profile Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">Offline Player Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">Tab Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">Plugin Metadaten</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">Ray Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">Plugins Debuggen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/index.html">Implementation-dependent Plugins</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ore/index.html">Ore Dokumentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Zu Sponge beitragen</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">Über das Sponge Projekt</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
          <li><a href="../index.html">Plugins erstellen</a> &raquo;</li>
    <li>Plugins konfigurieren</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugin/configuration/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="configuring-plugins">
<h1>Plugins konfigurieren<a class="headerlink" href="#configuring-plugins" title="Link zu dieser Überschrift">¶</a></h1>
<p>Konfigurationsdateien ermöglichen es den Plugins Daten zu speichern und erlauben es den Administratoren einzelne Teile eines Plugins zu verändern (in sofern es das zulässt). Sponge benutzt Configurate, um einen schnellen Zugriff auf die Konfigurationsdateien anbieten zu können. Die folgenden Artikel werden erklären, wie Configurate benutzt werden muss, um Konfigurationsdateien in ihrem gesamten Umfang nutzen zu können.</p>
<div class="admonition tip">
<p class="first admonition-title">Tipp</p>
<p class="last">See the official <a class="reference external" href="https://github.com/SpongePowered/configurate/wiki">Configurate wiki</a> to gain more in-depth information
about working with its components.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Sponge makes use of the HOCON configuration format, a superset of JSON, as the default format for saving
configuration files. The rest of this guide will assume you are using HOCON as well. See
<a class="reference internal" href="../../server/getting-started/configuration/hocon.html"><span class="doc">Einführung in HOCON</span></a> more for information regarding the HOCON format.
Working with different formats is made relatively similar by the Configurate system, so it should not
pose too much of an issue if you use an alternate format instead.</p>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="loaders.html">ConfigurationLoader</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodes.html">Nodes konfigurieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="serialization.html">Serialisieren von Objekten</a></li>
</ul>
</div>
<div class="section" id="quick-start">
<h2>Schnellstart<a class="headerlink" href="#quick-start" title="Link zu dieser Überschrift">¶</a></h2>
<div class="section" id="creating-a-default-plugin-configuration">
<h3>Erstellen der Standard-Plugin-Konfiguration<a class="headerlink" href="#creating-a-default-plugin-configuration" title="Link zu dieser Überschrift">¶</a></h3>
<p>Für Plugins, die Gebrauch von der SpongeAPI machen, besteht die Möglichkeit mehrere Konfigurationsdateien zu nutzen. Diese Dateien erlauben es Plugins Daten zu speichern und Serveradministratoren ihre Plugins entsprechend zu konfigurieren (falls zutreffend).</p>
</div>
<div class="section" id="getting-your-default-plugin-configuration">
<span id="getting-default-config"></span><h3>Erstellen der Standard-Plugin-Konfiguration<a class="headerlink" href="#getting-your-default-plugin-configuration" title="Link zu dieser Überschrift">¶</a></h3>
<p>Die SpongeAPI erlaubt das Verwenden der <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/config/DefaultConfig.html">DefaultConfig</a> Anmerkung vor einer Variable oder einer Methode mit dem Typ <code class="docutils literal notranslate"><span class="pre">File</span></code>, um die Standardkonfigurationsdatei für dein Plugin zu finden.</p>
<p>If you place the <code class="docutils literal notranslate"><span class="pre">&#64;DefaultConfig</span></code> annotation on a field with the type
<code class="docutils literal notranslate"><span class="pre">ConfigurationLoader&lt;CommentedConfigurationNode&gt;</span></code> then you can use it to load and save the default config file in
the file system. Please keep in mind that the annotated <code class="docutils literal notranslate"><span class="pre">ConfigurationLoader</span></code> does not use any default config file
that you might ship with your jar, unless you explicitly load it.</p>
<p>Die <code class="docutils literal notranslate"><span class="pre">&#64;DefaultConfig</span></code> Anmerkung benötigt eine boolsche <code class="docutils literal notranslate"><span class="pre">sharedRoot</span></code> Variable. Wenn <code class="docutils literal notranslate"><span class="pre">sharedRoot</span></code> auf <code class="docutils literal notranslate"><span class="pre">true</span></code> gesetzt wird, so liegt der ausgegebene Pfad in einem speziellen Ordner für (Plugin-) Konfigurationen. In diesem Fall wird deine Konfigurationsdatei <code class="docutils literal notranslate"><span class="pre">Deine_Plugin_ID.conf</span></code> heissen (mit „Deine_Plugin_ID“ für die von dir vergebene, einmalige ID deines Plugins).</p>
<div class="admonition tip">
<p class="first admonition-title">Tipp</p>
<p class="last">Unter <a class="reference internal" href="../plugin-class.html"><span class="doc">Hauptklasse des Plugins</span></a> sind Informationen verfügbar, wie die Plugin-ID geändert werden kann.</p>
</div>
<p>Wenn <code class="docutils literal notranslate"><span class="pre">sharedRoot</span></code> auf <code class="docutils literal notranslate"><span class="pre">false</span></code> gesetzt wird, so wird der zurückgegebene Pfad auf eine Datei <code class="docutils literal notranslate"><span class="pre">{pluginname}.conf</span></code>  im Ordner deines Plugins verweisen.</p>
<p>Wenn du nicht sicher bist auf welchen Wert <code class="docutils literal notranslate"><span class="pre">sharedRoot</span></code> gesetzt werden sollte, überlege dir folgendes:</p>
<ul class="simple">
<li>Wenn in Zukunft mehrere Konfigurationsdateien genutzt werden sollen (komplexe Plugins), so setze den Wert auf <code class="docutils literal notranslate"><span class="pre">false</span></code>.</li>
<li>Wenn nur eine Konfigurationsdatei zum Einsatz kommen soll (bei nicht so komplexen Plugins), setze den Wert auf <code class="docutils literal notranslate"><span class="pre">true</span></code>.</li>
</ul>
<p>Du kannst außerdem eine <code class="docutils literal notranslate"><span class="pre">Path</span></code> Instanz verwenden, die auf dein Konfigurationsverzeichnis zeigt, statt einer speziellen Datei. Du kannst dies durch die <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/config/ConfigDir.html">ConfigDir</a> Annotation automatisch einfügen lassen. Entweder mit <code class="docutils literal notranslate"><span class="pre">sharedRoot</span></code> auf <code class="docutils literal notranslate"><span class="pre">false</span></code> gesetzt, wenn du ein Plugin spezifischen Ordner verwenden möchtest, oder auf <code class="docutils literal notranslate"><span class="pre">true</span></code>, wenn du das geteilte Konfigurationsverzeichnis verwenden möchtest.</p>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Während es möglich ist, eine <code class="docutils literal notranslate"><span class="pre">File</span></code> statt einem Pfad zu verwenden, empfiehlt Configurate (und Sponge) die Verwendung von <code class="docutils literal notranslate"><span class="pre">Path</span></code>.</p>
</div>
<p><strong>Ein Beispiel, welches</strong> <code class="docutils literal notranslate"><span class="pre">&#64;DefaultConfig</span></code> ** nutzt:**</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.nio.file.Path</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.google.inject.Inject</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.config.ConfigDir</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.config.DefaultConfig</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">ninja.leaping.configurate.commented.CommentedConfigurationNode</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">ninja.leaping.configurate.loader.ConfigurationLoader</span><span class="p">;</span>

<span class="nd">@Inject</span>
<span class="nd">@DefaultConfig</span><span class="p">(</span><span class="n">sharedRoot</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span>
<span class="kd">private</span> <span class="n">Path</span> <span class="n">defaultConfig</span><span class="p">;</span>

<span class="nd">@Inject</span>
<span class="nd">@DefaultConfig</span><span class="p">(</span><span class="n">sharedRoot</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span>
<span class="kd">private</span> <span class="n">ConfigurationLoader</span><span class="o">&lt;</span><span class="n">CommentedConfigurationNode</span><span class="o">&gt;</span> <span class="n">configManager</span><span class="p">;</span>

<span class="nd">@Inject</span>
<span class="nd">@ConfigDir</span><span class="p">(</span><span class="n">sharedRoot</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span>
<span class="kd">private</span> <span class="n">Path</span> <span class="n">privateConfigDir</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warnung</p>
<p class="last">When your plugin is running for the first time, returned pathnames for configuration files and directories may not
yet exist. If you delegate all reading / writing of files to Configurate, you do not need to worry about
non-existent paths as the library will handle them appropriately.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">The use of YAML format (<a class="reference external" href="https://yaml.org/spec/1.1/">https://yaml.org/spec/1.1/</a>) and JSON format (<a class="reference external" href="https://www.json.org/">https://www.json.org/</a>) is also supported, but
the preferred config format for Sponge plugins is HOCON. Conversion from YAML (or JSON) to HOCON can be automated by
using a <a class="reference external" href="https://configurate.aoeu.xyz/apidocs/ninja/leaping/configurate/yaml/YAMLConfigurationLoader.html">YAMLConfigurationLoader</a> (or <a class="reference external" href="https://configurate.aoeu.xyz/apidocs/ninja/leaping/configurate/gson/GsonConfigurationLoader.html">GsonConfigurationLoader</a>) to load the old config and then
saving it using a <a class="reference external" href="https://configurate.aoeu.xyz/apidocs/ninja/leaping/configurate/hocon/HoconConfigurationLoader.html">HoconConfigurationLoader</a>.</p>
</div>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="loaders.html" class="btn btn-neutral float-right" title="ConfigurationLoader" accesskey="n" rel="next">Nächste <span class="fa fa-angle-right"></span></a>
        <a href="../event/custom.html" class="btn btn-neutral" title="Benutzerdefinierte Ereignisse" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Vorherige</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../_static/flags/de_DE.svg"
         alt="de" title="Deutsch">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../_static/jquery.js"></script>      <script type="text/javascript" src="../../_static/underscore.js"></script>      <script type="text/javascript" src="../../_static/doctools.js"></script>      <script type="text/javascript" src="../../_static/language_data.js"></script>      <script type="text/javascript" src="../../_static/translations.js"></script>      <script type="text/javascript" src="../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transaksi &mdash; dokumentasi Sponge 7.2.0</title>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Indeks"
              href="../../genindex.html"/>        <link rel="search" title="Pencarian" href="../../search.html"/>    <link rel="top" title="dokumentasi Sponge 7.2.0" href="../../index.html"/>        <link rel="up" title="Data API" href="index.html"/>        <link rel="next" title="Serializing Data" href="serialization.html"/>        <link rel="prev" title="Data Manipulator" href="datamanipulators.html"/>
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../index.html">
            <img src="../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Membuat sebuah server</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions/index.html">Versioning Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Mempersiapkan untuk Pengembangan</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Membuat Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-versions.html">API-Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">Membangun Sistem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">Anda mengatur ruang kerja</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">Menyiapkan proyek anda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">Pengenal Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">Class Plugin utama</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">Plugin Siklus Hidup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">Ketergantungan Injeksi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practices/index.html">Kebiasaan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">Pilihan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Penebangan dan Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">Teks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Plugin Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../event/index.html">Acara</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Mengkonfigurasi plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">Aset API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Data API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="custom/index.html">Kustom Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="catalog-types.html">Catalog Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="keys.html">Gunakan Tombol</a></li>
<li class="toctree-l3"><a class="reference internal" href="datamanipulators.html">Data Manipulator</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Transaksi</a></li>
<li class="toctree-l3"><a class="reference internal" href="serialization.html">Serializing Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">Blok</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">Badan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">Item</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trade-offers.html">Trade-Offers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">Hasil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">Penjadwalan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">Layanan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Basis data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">Hak akses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">Larang</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">Metrics Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">Tampilan buku</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">Ekonomi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">Generasi dunia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">Pengelola Pengaya</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">Manajer profil game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">Tidak hidup Data Pemain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">Daftar tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">Plugin Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">V8 Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">Plugin Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/index.html">Plugin yang tergantung pada pelaksanaan</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ore/index.html">Dokumentasi bijih</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Berkontribusi pada Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">Tentang Sponge Project</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
          <li><a href="../index.html">Membuat Plugin</a> &raquo;</li>
          <li><a href="index.html">Data API</a> &raquo;</li>
    <li>Transaksi</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugin/data/transactions.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="transactions">
<h1>Transaksi<a class="headerlink" href="#transactions" title="Link permanen untuk headline ini">¶</a></h1>
<div class="section" id="reading-the-result">
<h2>Membaca hasilnya<a class="headerlink" href="#reading-the-result" title="Link permanen untuk headline ini">¶</a></h2>
<p>Untuk semua yang Anda <code class="docutils literal notranslate"><span class="pre">tawarkan</span></code> ke dudukan data, metode <code class="docutils literal notranslate"><span class="pre">penawaran</span></code> akan menghasilkan :javadoc: <cite>DataHasilTransaksi</cite>. Objek ini akan berisi hal berikut:</p>
<div class="section" id="type">
<h3>Tipe<a class="headerlink" href="#type" title="Link permanen untuk headline ini">¶</a></h3>
<p>Itu :javadoc: <cite>DataHasilTransaksi.Tipe</cite> menunjukkan apakah transaksi berhasil diselesaikan dan, jika tidak, bagaimana hal itu gagal.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">TIDAK</span> <span class="pre">TERDEFINISIKAN</span></code></td>
<td>Tidak ada hasil yang jelas untuk transaksi tersebut - menunjukkan bahwa ada sesuatu yang salah</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">SUKSES</span></code></td>
<td>Transaksi berhasil diselesaikan</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">GAGAL</span></code></td>
<td>Transaksi gagal karena alasan yang diharapkan (misalnya data yang tidak sesuai)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">EROR</span></code></td>
<td>Transaksi gagal karena alasan tak terduga</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">BATALKAN</span></code></td>
<td>Sebuah acara untuk transaksi ini dibatalkan</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-affected-data">
<h3>Data yang terpengaruh<a class="headerlink" href="#the-affected-data" title="Link permanen untuk headline ini">¶</a></h3>
<p>Hasilnya juga menyediakan beberapa daftar yang tetap berisi kotak nilai yang tidak berubah yang mewakili data yang terlibat dalam transaksi.</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">SuksesdapatkanData()</span></code></td>
<td>berisi semua data yang berhasil di atur</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">dapatkanDataPengganti()</span></code></td>
<td>mengandung semua data yang bisa diganti dengan berhasil mengatur data</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">dapatkanDataDitolak()</span></code></td>
<td>mengandung semua data yang tidak dapat diatur</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="examples">
<h2>Contoh<a class="headerlink" href="#examples" title="Link permanen untuk headline ini">¶</a></h2>
<div class="section" id="healing-a-player">
<h3>Menyembuhkan Pemain<a class="headerlink" href="#healing-a-player" title="Link permanen untuk headline ini">¶</a></h3>
<p>Tentunya Anda ingat contoh penyembuhan di halaman <span class="xref std std-doc">kunci</span>. Bayangkan seorang pemain yang setengah hati (yang sama dengan 1 kesehatan) disembuhkan seperti itu. <cite>DataHasilTransaksi`</cite> dalam hal ini akan terlihat seperti ini:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">dapatMengetik()``akan</span> <span class="pre">mengembalikan``SUKSES</span></code></li>
<li><cite>dapatditolakData()</cite> akan menjadi kosong daftar</li>
<li>`` getReplacedData () `` akan berisi satu wadah nilai untuk tombol `` Keys.HEALTH`` dengan nilai 1,0</li>
<li>`` getSuccessfulData () `` akan berisi satu wadah nilai untuk tombol `` Keys.HEALTH`` dengan nilai 20,0</li>
</ul>
<p>Sekarang apa yang akan berbeda jika kita menggunakan contoh penyembuhan dari halaman <a class="reference internal" href="datamanipulators.html"><span class="doc">Data Manipulator</span></a>? Karena data manipulator <a class="reference external" href="https://spongedl.neptunepowered.org/javadocs/7.2.0/org/spongepowered/api/data/manipulator/mutable/entity/HealthData.html">HealthData</a> berisi nilai untuk kedua kesehatan saat ini dan kesehatan maksimal, sebagai tambahan hasil di atas, keduanya daftar <code class="docutils literal notranslate"><span class="pre">getReplacedData()</span></code> dan daftar <code class="docutils literal notranslate"><span class="pre">getSuccessfulData()</span></code> akan berisi satu lagi elemen: Isi container untuk kunci <code class="docutils literal notranslate"><span class="pre">Keys.MAX_HEALTH</span></code> dengan nilai 20.0.</p>
</div>
<div class="section" id="offering-healthdata-to-a-block-of-stone">
<h3>Menawarkan DataKesehatan ke blok batu<a class="headerlink" href="#offering-healthdata-to-a-block-of-stone" title="Link permanen untuk headline ini">¶</a></h3>
<p>Sekarang contoh-contoh yang disebutkan di atas dikodekan sedemikian rupa sehingga mereka akan gagal secara diam-diam daripada mencoba menawarkan data yang tidak sesuai. Tapi bayangkan kita mengambil (sembuh total) <code class="docutils literal notranslate"><span class="pre">DataSehat</span></code> pemain yang benar-benar sembuh dan mencoba menawarkannya ke <a href="#id1"><span class="problematic" id="id2">:javadoc:`Lokasi`</span></a> dari blok batu yang saat ini dia jalani. Kita bisa melakukan ini, karena <code class="docutils literal notranslate"><span class="pre">Lokasi</span></code> juga merupakan dudukan data. Dan jika kita melakukannya, itu akan memberi kita penghargaan dengan <code class="docutils literal notranslate"><span class="pre">DataHasilTransaksi</span></code> seperti ini:</p>
<ul class="simple">
<li><cite>getTipe()</cite> akan kembali <cite>KEGAGALAN</cite></li>
<li>`` getRejectedData () `` akan berisi dua wadah nilai untuk tombol `` HEALTH`` dan `` MAX_HEALTH``, masing-masing dengan nilai 20,0</li>
<li>`` getReplacedData () `` dan `` getSuccessfulData () `` akan menjadi daftar kosong</li>
</ul>
</div>
</div>
<div class="section" id="reverting-transactions">
<h2>Mengembalikan Transaksi<a class="headerlink" href="#reverting-transactions" title="Link permanen untuk headline ini">¶</a></h2>
<p>Karena segala sesuatu tentang hasil transaksi tidak berubah, ini dapat berfungsi untuk dokumentasi perubahan data. Dan ini juga memungkinkan perubahan yang di dalamnya dibatalkan. Untuk itu, cukup kirimkan hasil transaksi ke metode <a href="#id1"><span class="problematic" id="id2">``</span></a>ulang()``pemegang data. Ini sangat berguna karena beberapa penawaran data mungkin sebagian berhasil, sehingga satu atau lebih nilai berhasil ditulis ke dudukan data, namun satu nilai lagi tidak dapat diterima. Karena Anda mungkin ingin membatalkan keberhasilan sebagian.</p>
<p><strong>Contoh Kode: Mengembalikan transaksi</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataHolder</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataTransactionResult</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.manipulator.DataManipulator</span><span class="p">;</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">safeOffer</span><span class="p">(</span><span class="n">DataHolder</span> <span class="n">target</span><span class="p">,</span> <span class="n">DataManipulator</span> <span class="n">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">DataTransactionResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">target</span><span class="p">.</span><span class="na">offer</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getType</span><span class="p">()</span> <span class="o">!=</span> <span class="n">DataTransactionResult</span><span class="p">.</span><span class="na">Type</span><span class="p">.</span><span class="na">SUCCESS</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">target</span><span class="p">.</span><span class="na">undo</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="serialization.html" class="btn btn-neutral float-right" title="Serializing Data" accesskey="n" rel="next">Selanjutnya <span class="fa fa-angle-right"></span></a>
        <a href="datamanipulators.html" class="btn btn-neutral" title="Data Manipulator" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Sebelumnya</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../_static/flags/id_ID.svg"
         alt="id" title="Indonesia">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../_static/jquery.js"></script>      <script type="text/javascript" src="../../_static/underscore.js"></script>      <script type="text/javascript" src="../../_static/doctools.js"></script>      <script type="text/javascript" src="../../_static/language_data.js"></script>      <script type="text/javascript" src="../../_static/translations.js"></script>      <script type="text/javascript" src="../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Custom DataManipulator &mdash; dokumentasi Sponge 7.2.0</title>

    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Indeks"
              href="../../../genindex.html"/>        <link rel="search" title="Pencarian" href="../../../search.html"/>    <link rel="top" title="dokumentasi Sponge 7.2.0" href="../../../index.html"/>        <link rel="up" title="Kustom Data" href="index.html"/>        <link rel="next" title="Kustom DataHolders" href="dataholders.html"/>        <link rel="prev" title="Kustom Data" href="index.html"/>
    <!-- Google Analytics -->
    <script>
        (function(S,p,o,n,g,i,e){S['GoogleAnalyticsObject']=g;S[g]=S[g]||function(){
        (S[g].q=S[g].q||[]).push(arguments)},S[g].l=1*new Date();i=p.createElement(o),
        e=p.getElementsByTagName(o)[0];i.async=1;i.src=n;e.parentNode.insertBefore(i,e)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-59476017-2', 'auto');
        ga('send', 'pageview');
    </script>

  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../../index.html">
            <img src="../../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../server/index.html">Membuat sebuah server</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../versions/index.html">Versioning Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../preparing/index.html">Mempersiapkan untuk Pengembangan</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Membuat Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../api-versions.html">API-Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html">Membangun Sistem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace/index.html">Anda mengatur ruang kerja</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../project/index.html">Menyiapkan proyek anda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin-identifier.html">Pengenal Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin-class.html">Class Plugin utama</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lifecycle.html">Plugin Siklus Hidup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../injection.html">Ketergantungan Injeksi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practices/index.html">Kebiasaan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optional/index.html">Pilihan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging.html">Penebangan dan Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../text/index.html">Teks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands/index.html">Plugin Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../event/index.html">Acara</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/index.html">Mengkonfigurasi plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../assets.html">Aset API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Data API</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Kustom Data</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Custom DataManipulator</a></li>
<li class="toctree-l4"><a class="reference internal" href="dataholders.html">Kustom DataHolders</a></li>
<li class="toctree-l4"><a class="reference internal" href="serialization.html">Serialisasi Data Umum</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../catalog-types.html">Catalog Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../keys.html">Gunakan Tombol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../datamanipulators.html">Data Manipulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../transactions.html">Transaksi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../serialization.html">Serializing Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../blocks/index.html">Blok</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../entities/index.html">Badan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../items/index.html">Item</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../trade-offers.html">Trade-Offers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../effects.html">Hasil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scheduler.html">Penjadwalan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../services.html">Layanan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../database.html">Basis data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../permissions.html">Hak akses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bans.html">Larang</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../metrics.html">Metrics Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bookview.html">Tampilan buku</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../economy/index.html">Ekonomi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../wgen/index.html">Generasi dunia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manager.html">Pengelola Pengaya</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../game-profile-manager.html">Manajer profil game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../offline-userplayer-data.html">Tidak hidup Data Pemain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tab-lists.html">Daftar tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin-meta.html">Plugin Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ray-tracing.html">V8 Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging.html">Plugin Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials.html">Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../internals/index.html">Plugin yang tergantung pada pelaksanaan</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../ore/index.html">Dokumentasi bijih</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Berkontribusi pada Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">Tentang Sponge Project</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
          <li><a href="../../index.html">Membuat Plugin</a> &raquo;</li>
          <li><a href="../index.html">Data API</a> &raquo;</li>
          <li><a href="index.html">Kustom Data</a> &raquo;</li>
    <li>Custom DataManipulator</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/plugin/data/custom/datamanipulators.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="custom-datamanipulators">
<h1>Custom DataManipulator<a class="headerlink" href="#custom-datamanipulators" title="Link permanen untuk headline ini">¶</a></h1>
<p>Bagian inti dari data khusus adalah <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/DataManipulator.html">DataManipulator</a>. Untuk menerapkannya, anda harus terlebih dahulu memutuskan jika anda ingin membuat terpisah API untuk data kustom anda. Pada umumnya hal terbaik untuk memisahkan API dari pelaksanaan (sebagai SpongeAPI tidak), tetapi jika itu tidak akan terlihat oleh pengembang lain maka anda hanya dapat menempatkan keduanya di kelas yang sama.</p>
<p>You'll want to define an API method for each &quot;unit&quot; your data, such as a <code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/item/inventory/ItemStack.html">ItemStack</a> or
a custom type like <code class="docutils literal notranslate"><span class="pre">Home</span></code>. These units will be wrapped in a <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/value/mutable/Value.html">Value</a>, which will allow it to be accessed
with <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/key/Key.html">Key</a>s. There are various extensions of <code class="docutils literal notranslate"><span class="pre">Value</span></code> depending on which object will be represented, such
as <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/value/mutable/MapValue.html">MapValue</a> which provides the standard map operations, or <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/value/mutable/MutableBoundedValue.html">MutableBoundedValue</a> which can set
limits on the upper and lower bound of the value (like integers). The bounds of the values are verified using a
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html">Comparator</a>.</p>
<p>Sekarang, pilih yang mana dari <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/mutable/common/AbstractData.html">AbstractData</a> jenis anda akan memperluas. Sementara anda bisa menerapkan dari awal, ini abstrak jenis menghapus <em>banyak</em> pekerjaan yang perlu dilakukan untuk menerapkan metode yang diperlukan. Daftar lengkap dapat ditemukan di <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/bisaberubah/umum/package-summary.html">org.spongepowered.api.data.manipulator.bisaberubah.umum</a>. Lihat baik <span class="xref std std-ref">satu-data-jenis</span> atau <span class="xref std std-ref">senyawa-tipe data</span> di bawah untuk rincian pelaksanaan masing-masing jenis.</p>
<p>Anda harus membuat dua kelas yang berbeda - satu yang bisa berubah dan mengimplementasikan <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/DataManipulator.html">DataManipulator</a> dan anda tipe abstrak, dan berubah versi yang mengimplementasikan <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/ImmutableDataManipulator.html">ImmutableDataManipulator</a> dan <em>berubah</em> tipe abstrak.</p>
<div class="admonition note">
<p class="first admonition-title">Catatan</p>
<p class="last"><strong>Semua</strong> data harus memiliki versi yang bisa berubah dan tidak berubah, Anda harus menerapkan keduanya.</p>
</div>
<p>Untuk semua jenis, anda akan perlu untuk menentukan <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/DataManipulator.html#asImmutable--">DataManipulator#asImmutable()</a>/ <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/ImmutableDataManipulator.html#asMutable--">asMutable()</a> metode ini adalah yang sederhana seperti menyalin benda-benda yang ada menjadi sebuah konstruktor untuk versi alternatif.</p>
<div class="section" id="values">
<h2>Nilai<a class="headerlink" href="#values" title="Link permanen untuk headline ini">¶</a></h2>
<p>Pengambil nilai anda(s) perlu mengembalikan nilai tersebut. Seperti contoh dibawah, kami mendapatkan:javadoc:<cite>nilai tetap</cite>. Ini dapat menyelamatkan banyak jenis yang menggunakan Sponge's yang telah melaksanakan objek``nilai``. Baegantung pada nilai yang anda buat disana seperti kaedah yang berbeda yang dipanggil seperti``createMapValue``, <code class="docutils literal notranslate"><span class="pre">createBoundedComprarableValue</span></code>, dan lai-lain.</p>
<p><strong>Contoh Kode: Melaksanakan Nilai Gatter</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.Sponge</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.value.ValueFactory</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.value.mutable.Value</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.home.Home</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.Keys</span><span class="p">;</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="n">Value</span><span class="o">&lt;</span><span class="n">Home</span><span class="o">&gt;</span> <span class="nf">defaultHome</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">Sponge</span><span class="p">.</span><span class="na">getRegistry</span><span class="p">().</span><span class="na">getValueFactory</span><span class="p">()</span>
            <span class="p">.</span><span class="na">createValue</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">DEFAULT_HOME</span><span class="p">,</span> <span class="n">getValue</span><span class="p">(),</span> <span class="kc">null</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Perhatikan bahwa <cite>ImmutableDataManipulator</cite> malah akan kembali <cite>ImmutableValue</cite>, dengan menyebut <cite>asImmutable()</cite> pada kembali <cite>Nilai</cite>. Kami merekomendasikan bahwa anda cache ini (seperti dengan kelas bidang) dalam berubah versi.</p>
<p>Setiap``nilai``juga memerlukan <a href="#id1"><span class="problematic" id="id2">:javadoc:`kunci`</span></a> untuk mengenal secara pasti, bisa dilihat dari contoh``kunci.DEFAULT_RUMAH``. sama untuk nilai, kamu menggunakan satu kaedah``makeXkey()``dalam:javadoc:<cite>KeyFactory`untuk membuat ``kunci`</cite> pada nilai anda.</p>
<p>Anda perlu lulus untuk satu <code class="docutils literal notranslate"><span class="pre">TipeToken</span></code> mewakili nilai <a href="#id1"><span class="problematic" id="id2">*</span></a>mentah*anda, dan satu <code class="docutils literal notranslate"><span class="pre">TipeToken</span></code> mewakili``nilai``. Kamu juga perlu menyediakan <a href="#id3"><span class="problematic" id="id4">:javadoc:`DataPertanyaan`</span></a> jalan - ini yang paling biasa dugunakan untuk seri <code class="docutils literal notranslate"><span class="pre">Nilai</span></code>. seperti mana dengan jenis katalog anda juga harus menyediakan ID unik dan nama. Masukkan semua sama-sama dan anda mempunyai <code class="docutils literal notranslate"><span class="pre">kunci</span></code> yang kamu boleh gunakan dalam <code class="docutils literal notranslate"><span class="pre">Nilai</span></code>s.</p>
<p><strong>Contoh Kode: Membuat Kunci</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataQuery</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.key.Key</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.key.KeyFactory</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.value.mutable.Value</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.value.mutable.Value</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.google.common.reflect.TypeToken</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.home.Home</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Key</span><span class="o">&lt;</span><span class="n">Value</span><span class="o">&lt;</span><span class="n">Home</span><span class="o">&gt;&gt;</span> <span class="n">DEFAULT_HOME</span> <span class="o">=</span> <span class="n">KeyFactory</span><span class="p">.</span><span class="na">makeSingleKey</span><span class="p">(</span>
        <span class="n">TypeToken</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Home</span><span class="p">.</span><span class="na">class</span><span class="p">),</span>
        <span class="k">new</span> <span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">Value</span><span class="o">&lt;</span><span class="n">Home</span><span class="o">&gt;&gt;</span><span class="p">()</span> <span class="p">{},</span>
        <span class="n">DataQuery</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;DefaultHome&quot;</span><span class="p">),</span> <span class="s">&quot;myhomes:default_home&quot;</span><span class="p">,</span> <span class="s">&quot;Default Home&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Catatan</p>
<p><a href="#id1"><span class="problematic" id="id2">:javadoc:`TipeToken`</span></a>s digunakan oleh implementasi untuk melestarikan jenis nilai anda. Sponge menyediakan daftar panjang pra-dibangun toekn untuk API di:javadoc:<cite>TipeToken</cite>.</p>
<p>Jika anda perlu membuat sendiri, anda bisa melakukan ini dengan salah satu dari dua cara berikut:</p>
<ul class="last simple">
<li>Untuk jenis bebas-umum, menggunakan <code class="docutils literal notranslate"><span class="pre">TypeToken.of(Mytype.class)</span></code></li>
<li>Untuk jenis generik, Membuat kelas anonim dengan <code class="docutils literal notranslate"><span class="pre">TypeToken&lt;MyGenericType&lt;String&gt;&gt;(){}</span></code></li>
</ul>
</div>
</div>
<div class="section" id="serialization">
<h2>Serialisasi<a class="headerlink" href="#serialization" title="Link permanen untuk headline ini">¶</a></h2>
<p>Untuk membuat data anda:doc:<cite>serializable &lt;../serilizable&gt;</cite> to <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/DataHolder.html">DataHolder</a>or atau config file, anda juga harus menerapkan:javadoc:<cite>DataSerializable#toContainer()</cite>. Kami menyarankan memanggil <code class="docutils literal notranslate"><span class="pre">super.toContainer()</span></code> seperti ini kan termasuk versi dari:javadoc:<cite>DataSerializable#getContentVersion()</cite>. Kamu harus meningkat setiap kali perubahan yang dibuat ke format data serial, dan menggunakan :ref: <cite>konten-perbarui</cite> agar mundur kompatibilitas.</p>
<div class="admonition note">
<p class="first admonition-title">Catatan</p>
<p class="last">Ini tidak diperlukan untuk jenis tunggal yang mudah, seperti yang telah dilakakukan <code class="docutils literal notranslate"><span class="pre">toContainer()</span></code></p>
</div>
<p><strong>Contoh Kode: Melaksanakan toContainer</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataContainer</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.Keys</span><span class="p">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">DataContainer</span> <span class="nf">toContainer</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">DataContainer</span> <span class="n">container</span> <span class="o">=</span> <span class="kd">super</span><span class="p">.</span><span class="na">toContainer</span><span class="p">();</span>
    <span class="c1">// This is the simplest, but use whatever structure you want!</span>
    <span class="n">container</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">DEFAULT_HOME</span><span class="p">.</span><span class="na">getQuery</span><span class="p">(),</span> <span class="k">this</span><span class="p">.</span><span class="na">defaultHome</span><span class="p">);</span>
    <span class="n">container</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">HOMES</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">homes</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">container</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="registration">
<h2>Pendaftaran<a class="headerlink" href="#registration" title="Link permanen untuk headline ini">¶</a></h2>
<p>Mendaftar anda <cite>DataManipulator</cite> memungkinkan untuk dapat diakses oleh Spons dan oleh plugin lain dengan cara yang umum. Permainan/plugin yang dapat membuat salinan data anda dan serialize/deserialize data anda tanpa referensi apapun dari kelas anda secara langsung.</p>
<p>Untuk mendaftar <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code> Sponge mempunyai <a href="#id1"><span class="problematic" id="id2">:javadoc:`DataRegistrasi#builder()`pembantu. ini akan membangun:javadoc:`DataRegistrasi`</span></a> dan secara otomatis mendaftarkannya.</p>
<div class="admonition note">
<p class="first admonition-title">Catatan</p>
<p class="last">Karena sifat dari data, Kamu <em>harus</em> mendaftarkan <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code> selama inisialisasi - biasanya dengan mendengarkan <a href="#id1"><span class="problematic" id="id2">:javadoc:`GamelnitializationEvent`</span></a> seperti pada contoh dibawah ini, jika kamu mencoba untuk mendaftar <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code> setelah inisialisasi selesai pengecualian akan dilemparkan.</p>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.event.game.state.GameInitializationEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataRegistration</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.example.MyCustomData</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.example.ImmutableCustomData</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.example.CustomDataBuilder</span><span class="p">;</span>

<span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInit</span><span class="p">(</span><span class="n">GameInitializationEvent</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">DataRegistration</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
      <span class="p">.</span><span class="na">dataClass</span><span class="p">(</span><span class="n">MyCustomData</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
      <span class="p">.</span><span class="na">immutableClass</span><span class="p">(</span><span class="n">ImmutableCustomData</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
      <span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="k">new</span> <span class="n">CustomDataBuilder</span><span class="p">())</span>
      <span class="p">.</span><span class="na">manipulatorId</span><span class="p">(</span><span class="s">&quot;my-custom&quot;</span><span class="p">)</span>
      <span class="p">.</span><span class="na">dataName</span><span class="p">(</span><span class="s">&quot;My Custom&quot;</span><span class="p">)</span>
      <span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Peringatan</p>
<p class="last">Data that was serialized prior to <code class="docutils literal notranslate"><span class="pre">6.0.0</span></code>, or data where you have changed the ID, will <em>not</em> be recognized unless
registered with <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/DataManager.html#registerLegacyManipulatorIds-java.lang.String-org.spongepowered.api.data.DataRegistration-">DataManager#registerLegacyManipulatorIds(String, DataRegistration)</a>. If registering a
pre-6.0.0 <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code> the ID is taken from <cite>Class.getName()</cite>, such as <code class="docutils literal notranslate"><span class="pre">com.example.MyCustomData</span></code>.</p>
</div>
</div>
<div class="section" id="single-types">
<span id="single-data-types"></span><h2>Tipe tunggal<a class="headerlink" href="#single-types" title="Link permanen untuk headline ini">¶</a></h2>
<p>Single types require little implementation because much of the work has already been done in the
<a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/mutable/common/AbstractSingleData.html">AbstractSingleData</a> type you extend from.</p>
<p>Jenis abstrak ''sederhana'' adalah yang termudah untuk diterapkan, tetapi dibatasi pada jenis dibawah ini:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Boolean</span></code></li>
<li><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html">Comparable</a></li>
<li><code class="docutils literal notranslate"><span class="pre">Bilangan</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Daftar</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Skema</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CatalogType</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Enum</span></code></li>
</ul>
<p>Untuk semua jenis lain anda harus menerapkan kebiasaan satu jenis dengan memperpanjang <cite>AbstractSingleData</cite>. Hal ini memungkinkan anda untuk menentukan sendiri data tunggal dengan apapun jenis yang anda inginkan, sementara masih melakukan sebagian besar pekerjaan untuk anda.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Impementasi abstrak menyimpan objek untuk anda dalam konstruktor. Anda dapat mengaksesnya dalam penerapan dengan memanggil metode <code class="docutils literal notranslate"><span class="pre">getValue()``dan``gerValue()</span></code>.</p>
</div>
<div class="section" id="simple-single-types">
<h3>Sederhana Satu Jenis<a class="headerlink" href="#simple-single-types" title="Link permanen untuk headline ini">¶</a></h3>
<p>Hampir semua pekerjaan dilakukan untuk anda dengan jenis abstrak sederhana. Yang anda butuhkan untuk melakukannya adalah:</p>
<ul class="simple">
<li>Perluas jenis abstrak yang relavan</li>
<li>melewati <cite>kunci</cite> untuk data anda, Objek itu sendri dan objek defauft (jika objek null) di konstruktor</li>
</ul>
<p><a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/mutable/common/AbstractBoundedComparableData.html">AbstractBoundedComparableData</a> (dan sama abadi dengqan) selain itu memerlukan nilai-nilai minimum dan maksimum yang akan diperiksa, <a href="#id1"><span class="problematic" id="id2">:javadoc:`Komperator`</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Catatan</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">Daftar</span></code> and <code class="docutils literal notranslate"><span class="pre">dipeta</span></code> satu jenis sebaliknya harus menerapkan <code class="docutils literal notranslate"><span class="pre">ListData</span></code> / <code class="docutils literal notranslate"><span class="pre">MappedData</span></code> (atau sama abadi). Hal ini menambah tambahan metode untuk memungkinkan peta-like/daftar-seperti perilaku langsung pada <code class="docutils literal notranslate"><span class="pre">DataManipulator</span></code>.</p>
</div>
<p>The following 3 methods must be defined on mutable manipulators:</p>
<p><code class="docutils literal notranslate"><span class="pre">fill(DataHolder,</span> <span class="pre">MergeFunction)</span></code> seharusnya menggantikan data pada objek dengan <code class="docutils literal notranslate"><span class="pre">DataHolder</span></code> yang diberikan, dengan menggunakan hasil dari <code class="docutils literal notranslate"><span class="pre">MergeFunction#merge()</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataHolder</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.merge.MergeFunction</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.friends.FriendsData</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">FriendsData</span><span class="o">&gt;</span> <span class="nf">fill</span><span class="p">(</span><span class="n">DataHolder</span> <span class="n">dataHolder</span><span class="p">,</span> <span class="n">MergeFunction</span> <span class="n">overlap</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">FriendsData</span> <span class="n">merged</span> <span class="o">=</span> <span class="n">overlap</span><span class="p">.</span><span class="na">merge</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">dataHolder</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">FriendsData</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">));</span>
    <span class="n">setValue</span><span class="p">(</span><span class="n">merged</span><span class="p">.</span><span class="na">friends</span><span class="p">().</span><span class="na">get</span><span class="p">());</span>

    <span class="k">return</span> <span class="n">Optional</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">from(DataContainer)</span></code> seharusnya menimpa nilainya dengan yang ada di dalam container dan mengembalikan nilainya sendiri, jika tidak maka mengembalikan nilai <code class="docutils literal notranslate"><span class="pre">Optional.empty()</span></code></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataContainer</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataQuery</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.Keys</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.friends.FriendsData</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.friends.ImmutableFriendsData</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.google.common.collect.Maps</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.UUID</span><span class="p">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">FriendsData</span><span class="o">&gt;</span> <span class="nf">from</span><span class="p">(</span><span class="n">DataContainer</span> <span class="n">container</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">container</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">FRIENDS</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">UUID</span><span class="o">&gt;</span> <span class="n">friends</span> <span class="o">=</span> <span class="n">container</span><span class="p">.</span><span class="na">getObjectList</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">FRIENDS</span><span class="p">.</span><span class="na">getQuery</span><span class="p">(),</span> <span class="n">UUID</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">Optional</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">setValue</span><span class="p">(</span><span class="n">friends</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">Optional</span><span class="p">.</span><span class="na">empty</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">copy()</span></code> seharusnya, seperti namanya, mengembalikan salinan dari salinan itu sendiri dengan data yang sama.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.friends.FriendsData</span><span class="p">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">FriendsData</span> <span class="nf">copy</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">FriendsDataImpl</span><span class="p">(</span><span class="n">getValue</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-single-types">
<h3>Kustom Jenis Tunggal<a class="headerlink" href="#custom-single-types" title="Link permanen untuk headline ini">¶</a></h3>
<p>In addition to the methods from the simple single types, you need to override the following methods:</p>
<p><code class="docutils literal notranslate"><span class="pre">getValueGetter()</span></code> seharusnya melalui <code class="docutils literal notranslate"><span class="pre">Value</span></code> yang mewakili data anda (lihat di atas).</p>
<p>`` toContainer () `` harus mengembalikan <cite>DataContainer`</cite> yang mewakili data Anda (lihat di atas).</p>
</div>
</div>
<div class="section" id="compound-types">
<span id="compound-data-types"></span><h2>Gaya majemuk<a class="headerlink" href="#compound-types" title="Link permanen untuk headline ini">¶</a></h2>
<p>Sedangkan jenis tunggal hanya mendukung satu nilai, &quot;senyawa&quot; jenis dukungan namun banyak nilai-nilai yang anda inginkan. Hal ini berguna ketika beberapa objek dikelompokkan, seperti <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/mutable/tileentity/FurnaceData.html">FurnaceData</a>. Sisi negatifnya, bagaimanapun, adalah bahwa mereka yang lebih kompleks untuk diimplementasikan.</p>
<p>Untuk memulai dengannya, buatlah semua getter <code class="docutils literal notranslate"><span class="pre">Value</span></code> yang data anda akan miliki. Untuk setiap nilainya, buatlah metode untuk mengambil dan mengatur objek <em>raw</em>, yang akan anda gunakan nanti. Untuk data tetap, hanya getter yang diperlukan.</p>
<div class="section" id="registering-values">
<h3>Mendaftarkan Nilai<a class="headerlink" href="#registering-values" title="Link permanen untuk headline ini">¶</a></h3>
<p>Next, you'll want to register these so that the <a class="reference internal" href="../keys.html"><span class="doc">Keys</span></a>-based system can reference them. To do this,
implement either <a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/mutable/common/AbstractData.html#registerGettersAndSetters--">AbstractData#registerGettersAndSetters()</a> or
<a class="reference external" href="https://jd.spongepowered.org/7.2.0/org/spongepowered/api/data/manipulator/immutable/common/AbstractImmutableData.html#registerGetters--">AbstractImmutableData#registerGetters()</a> depending on whether the data is mutable or not.</p>
<p>Untuk setiap nilai yang perlu anda hubungi:</p>
<ul class="simple">
<li>`` registerKeyValue (Key, Supplier) `` merujuk pada pengambil nilai `` Value` untuk kunci yang diberikan</li>
<li>`` registerFieldGetter (Key, Supplier) `` merujuk metode pengambil untuk objek * mentah * yang didefinisikan di atas</li>
<li>`` registerFieldSetter (Kunci, Konsumen) `` merujuk metode penyetel di atas jika Anda menerapkan versi yang dapat diubah</li>
</ul>
<p>Sebaiknya gunakan sintaks Java `` `` `` untuk fungsi `` Pemasok``````````````````````````````.</p>
<p><strong>Contoh Kode: Melaksanakan Nilai Gatter</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.Keys</span>

<span class="c1">// registerGetters() for immutable implementation</span>
<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">registerGettersAndSetters</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">registerKeyValue</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">DEFAULT_HOME</span><span class="p">,</span> <span class="k">this</span><span class="p">::</span><span class="n">defaultHome</span><span class="p">);</span>
    <span class="n">registerKeyValue</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">HOMES</span><span class="p">,</span> <span class="k">this</span><span class="p">::</span><span class="n">homes</span><span class="p">);</span>

    <span class="n">registerFieldGetter</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">DEFAULT_HOME</span><span class="p">,</span> <span class="k">this</span><span class="p">::</span><span class="n">getDefaultHome</span><span class="p">);</span>
    <span class="n">registerFieldGetter</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">HOMES</span><span class="p">,</span> <span class="k">this</span><span class="p">::</span><span class="n">getHomes</span><span class="p">);</span>

    <span class="c1">// Only on mutable implementation</span>
    <span class="n">registerFieldSetter</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">DEFAULT_HOME</span><span class="p">,</span> <span class="k">this</span><span class="p">::</span><span class="n">setDefaultHome</span><span class="p">);</span>
    <span class="n">registerFieldSetter</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">HOMES</span><span class="p">,</span> <span class="k">this</span><span class="p">::</span><span class="n">setHomes</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>`` isi (DataHolder, MergeFunction) `` dan `` dari (DataContainer) `` mirip dengan implementasi untuk satu data, namun memuat semua nilai Anda.</p>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="dataholders.html" class="btn btn-neutral float-right" title="Kustom DataHolders" accesskey="n" rel="next">Selanjutnya <span class="fa fa-angle-right"></span></a>
        <a href="index.html" class="btn btn-neutral" title="Kustom Data" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Sebelumnya</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../../_static/flags/id_ID.svg"
         alt="id" title="Indonesia">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../../_static/jquery.js"></script>      <script type="text/javascript" src="../../../_static/underscore.js"></script>      <script type="text/javascript" src="../../../_static/doctools.js"></script>      <script type="text/javascript" src="../../../_static/language_data.js"></script>      <script type="text/javascript" src="../../../_static/translations.js"></script>      <script type="text/javascript" src="../../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>
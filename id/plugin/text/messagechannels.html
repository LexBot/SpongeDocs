
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Saluran Pesan &mdash; dokumentasi Sponge 7.2.0</title>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>




    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

    <link rel="stylesheet" href="../../_static/spongedocs.css" type="text/css" />

        <link rel="index" title="Indeks"
              href="../../genindex.html"/>        <link rel="search" title="Pencarian" href="../../search.html"/>    <link rel="top" title="dokumentasi Sponge 7.2.0" href="../../index.html"/>        <link rel="up" title="Teks" href="index.html"/>        <link rel="next" title="TextTemplates" href="templates.html"/>        <link rel="prev" title="Layanan Paginasi" href="pagination.html"/>
    <!-- Google Analytics -->
    <script>
        (function(S,p,o,n,g,i,e){S['GoogleAnalyticsObject']=g;S[g]=S[g]||function(){
        (S[g].q=S[g].q||[]).push(arguments)},S[g].l=1*new Date();i=p.createElement(o),
        e=p.getElementsByTagName(o)[0];i.async=1;i.src=n;e.parentNode.insertBefore(i,e)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-59476017-2', 'auto');
        ga('send', 'pageview');
    </script>

  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
    <div id="sp-logo-container" class="page-scroll">
        <a class="logo" href="../../index.html">
            <img src="../../_static/spongie-mark-dark.svg">
            <span>Sponge</span>
            <i class="fa fa-fw fa-chevron-down"></i>
        </a>
        <div id="sp-logo-menu">
            <ul id="sp-logo-dropdown">
                <li><a href="https://www.spongepowered.org"><i class="fa-fw fa fa-home"></i>Homepage</a></li>
                <li><a href="https://forums.spongepowered.org"><i class="fa-fw fa fa-comments"></i>Forums</a></li>
                <li><a href="https://github.com/SpongePowered"><i class="fa-fw fa fa-code"></i>Code</a></li>
                <li class="active"><a href="https://docs.spongepowered.org"><i class="fa-fw fa fa-book"></i>Docs</a></li>
                <li><a href="https://jd.spongepowered.org"><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</a></li>
                <li><a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><i class="fa-fw fa fa-plug"></i>Plugins</a></li>
                <li><a href="https://ore.spongepowered.org"><img src="../../_static/ore.svg" alt="" class="fa-fw fa ore-logo">Ore <sup>Beta</sup></a></li>
                <li><a href="https://www.spongepowered.org/downloads"><i class="fa-fw fa fa-download"></i>Downloads</a></li>
                <li><a href="https://www.spongepowered.org/chat"><i class="fa-fw fa fa-comment"></i>Chat</a></li>
            </ul>
        </div>
    </div>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Membuat sebuah server</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions/index.html">Versioning Policy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Mempersiapkan untuk Pengembangan</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Membuat Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-versions.html">API-Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">Membangun Sistem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">Anda mengatur ruang kerja</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">Menyiapkan proyek anda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">Pengenal Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">Class Plugin utama</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">Plugin Siklus Hidup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">Ketergantungan Injeksi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practices/index.html">Kebiasaan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">Pilihan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Penebangan dan Debugging</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Teks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="text.html">Membuat Teks</a></li>
<li class="toctree-l3"><a class="reference internal" href="representations/index.html">Teks Bersambung</a></li>
<li class="toctree-l3"><a class="reference internal" href="pagination.html">Layanan Paginasi</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Saluran Pesan</a></li>
<li class="toctree-l3"><a class="reference internal" href="templates.html">TextTemplates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Plugin Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../event/index.html">Acara</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Mengkonfigurasi plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">Aset API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">Blok</a></li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">Badan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">Item</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trade-offers.html">Trade-Offers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">Hasil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">Penjadwalan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">Layanan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Basis data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">Hak akses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">Larang</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">Metrics Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">Tampilan buku</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">Ekonomi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">Generasi dunia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">Pengelola Pengaya</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">Manajer profil game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">Tidak hidup Data Pemain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">Daftar tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">Plugin Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">V8 Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">Plugin Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internals/index.html">Plugin yang tergantung pada pelaksanaan</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ore/index.html">Dokumentasi bijih</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Berkontribusi pada Sponge</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">Tentang Sponge Project</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Sponge</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">

 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
          <li><a href="../index.html">Membuat Plugin</a> &raquo;</li>
          <li><a href="index.html">Teks</a> &raquo;</li>
    <li>Saluran Pesan</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugin/text/messagechannels.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
  <div class="section" id="message-channels">
<h1>Saluran Pesan<a class="headerlink" href="#message-channels" title="Link permanen untuk headline ini">¶</a></h1>
<p>Dalam Sponge, setiap objek yang pesan mungkin terkirim untuk mengimplementasikan antarmukan :javadoc:'MessageReceiver'. Sebuah :javadoc:'MessageChannel' adalah sebuah perangkat yang mungkin mengirim pesan semaunya ke sejumlah &quot;MessageReceiver&quot;s dan bahkan melakukan tindakan seperti penerima format dari pesan tertentu.</p>
<div class="section" id="selecting-message-recipients">
<h2>Memilih Penerima Pesan<a class="headerlink" href="#selecting-message-recipients" title="Link permanen untuk headline ini">¶</a></h2>
<p>Dalam antar muka &quot;MessageChannel ada yang konstanta dan metode statis yang bisa digunakan untuk memperoleh atau membuat yang umumnya digunakan saluran. Ada juga kelas lainnya dan antarmuka yang bisa digunakan untuk membuat sebuah &quot;MessageChannel&quot;. seperti :javadoc:'AbstractMutableMessageChannel' dan :javadoc:'MutableMessageChannel'. Sebuah daftar lengkap dari ini bisa ditemukan pada :javadoc:'org.spongepowered.api.text.channel&quot; dan sub-paket itu sendiri.</p>
<div class="section" id="broadcasting">
<h3>Penyiaran<a class="headerlink" href="#broadcasting" title="Link permanen untuk headline ini">¶</a></h3>
<p>Saluran yang paling umum akan menjadi saluran penyiaran. Itu dapat diperoleh dari salah satu :javadoc:'Server' melalui metode :javadoc:'Server#getBroadcastChannel()' atau dari salah satu konstanta :javadoc:'MessageChannel#TO_PLAYERS' atau :javadoc:'MessageChannel#TO_ALL'. Satu-satunya perbedaan adalah &quot;TO_ALL&quot; tidak hanya termasuk setiap pemain yang terhubung ke server tetapi juga server &quot;Console&quot;.</p>
<p>Saluran yang dikembalikan oleh &quot;getBroadcastChannel()&quot; umumnya akan menjadi saluran &quot;MessageChannel.TO_ALL, Namun saluran yang berbeda mungkin disetel menggunakan metode :javadoc:'Server#setBroadcastChannel(MessageChannel)'.</p>
</div>
<div class="section" id="sending-to-a-fixed-list-of-messagereceivers">
<h3>Pengiriman untuk Tetap Daftar MessageReceivers<a class="headerlink" href="#sending-to-a-fixed-list-of-messagereceivers" title="Link permanen untuk headline ini">¶</a></h3>
<p>Itu juga mungkin untuk tidak mengirim pesan kepada semua pemain yang terhubung, tetapi untuk sejumlah tangan penerima yang dipilih. Hal ini dapat dilakukan dengan menambahkan daftar penerima yang dimaksudkan untuk metode :javadoc:'MessageChannel#fixed(MessageReceiver...)'. Tidak seperti kebanyakan saluran lainnya, daftar penerima tidak akan dapat dibuat secara dinamis setiap kali sesuatu yang dikirimkan melalui saluran tetapi masih tetapi untuk selebihnya masih tetap statis dari keberadaannya. Namun, acuan-acuan yang diteruskan adalah <em>weak</em>. Ini berarti jika misalnya seorang pemain memutuskan dan sesuai dengan objek :javadoc:'Player' adalah dihapus oleh Java <em>garbage collector</em>, pemain itu juga akan lenyap dari daftar penerima saluran.</p>
</div>
<div class="section" id="permission-based-selection">
<h3>Izin-berdasarkan Seleksi<a class="headerlink" href="#permission-based-selection" title="Link permanen untuk headline ini">¶</a></h3>
<p>Itu juga mungkin untuk membuat salurang pengiriman untuk semua penerima yang memegang sebuah izin khuhus. Saluran tersebut diperoleh dari metode :javadoc:'MessageChannel#permission(String)' dengan izin untuk memeriksa sebagai argumen. Bila sebuah pesan yang kemudian akan dikirimkan melalui saluran ini, itu akan memperoleh semua subjek dari :javadoc:'PermissionService' yang memiliki izin yang diberikan.</p>
</div>
<div class="section" id="combining-channels">
<h3>Menggabungkan Saluran<a class="headerlink" href="#combining-channels" title="Link permanen untuk headline ini">¶</a></h3>
<p>Itu juga mungkin untuk menggabungkan beberapa saluran menjadi satu. Hal ini dapat dilakukan dengan menambahkan semua saluran ke dalam metode :javadoc:'MessageChannel#combine(MessageChannel...)'. Saluran yang dihasilkan akan menyampaikan untuk setiap penerima pesan yang ditargetkan oleh salah satu saluran gabungan.</p>
</div>
</div>
<div class="section" id="sending-messages">
<h2>Mengirimkan Pesan<a class="headerlink" href="#sending-messages" title="Link permanen untuk headline ini">¶</a></h2>
<p>Setelah anda memperoleh sebuah &quot;MessageChannel&quot; anda dapat mengirim pesan itu melalui metode :javadoc:'MessageChannel#send(Object, Text)'. Metode ini adalah yang lebih disukai metode :javadoc:'MessageChannel#send(Text)'. sebagai &quot;Object&quot; dapat digunakan untuk identifikasi atau untuk melakukan berbagai tindakan-tindakan lainnya. Sebagai alternatif, anda dapat menggunakan sebuah :javadoc:'ChatType' untuk menentukan pesan mana yang akan di kirim. Menggunakan metode :javadoc:'MessageChannel#sent(Object, Text, ChatType)' akan memungkinkan anda untuk menyelesaikan ini. Saluran kemudian akan mengubah pesan dari setiap penerima dan mengirim pesan yang berubah.</p>
<div class="section" id="extended-application-chat-channels">
<h3>Aplikasi yang diperluas: Saluran Obrolan<a class="headerlink" href="#extended-application-chat-channels" title="Link permanen untuk headline ini">¶</a></h3>
<p>Saluran pesan mempunyai aplikasi yang sangat berguna yang dapat digunakan untuk membangun saluran obrolan. Misalnya, anda dapat menentukan sebuah saluran pesan untuk setiap saluran obrolan yang ingin anda miliki. Kemudian, ketika sebuah &quot;MessageReceiver&quot; bergabung dengan sebuah saluran, seperti dengan &quot;/join &lt;channel name&gt;&quot;, cukup mengatur &quot;MessageReceiver&quot;'s &quot;MessageChannel&quot; untuk sesuaikan saluran menggunakan :javadoc:'MessageReceiver#setMessageChannel(MessageChannel)'. Ini akan menyebabkan setiap pesan yang dikirim <em>from</em> &quot;MessageReceiver untuk dilalui kepada yang diberikan sebagai gantinya &quot;MessageChannel&quot; dari satu default. Sebagai alternatif, anda dapat mendengarkan terhadap :javadoc:'MessageChannelEvent', dan mengatur menyesuaikan &quot;MessageChannel&quot; menggunakan :javadoc:'MessageChannelEvent#setChannel(MessageChannel). Melewati &quot;null&quot; untuk metode yang akan membatalkan penyetelan apapun dari saluran khusus, menyebabkan pesan asli yang akan dikirim ke MessageChannel sebagai gantinya.</p>
</div>
</div>
<div class="section" id="transforming-messages">
<h2>Mengubah Pesan<a class="headerlink" href="#transforming-messages" title="Link permanen untuk headline ini">¶</a></h2>
<p>Anda dapat menerapkan sebuah penyaringan untuk semua &quot;Text&quot;s yang lewat melalui sebuah &quot;MessageChannel&quot; untuk mengubah pesan yang meskipun demikian anda sukai. Hal ini dimungkinkan dengan memperluas &quot;MessageChannel&quot; dan metode utama :javadoc:'MessageChannel#transformMessage(Object, MessageReceiver, Text, ChatType)' seperti yang ditunjukkan di bawah ini.</p>
<p><strong>Contoh: Mengubah pesan</strong></p>
<p>Kutipan kode berikut mendefinisikan sebuah kelas &quot;AdminMessageChannel&quot; yang menimpa metode &quot;transformMessage. Metode &quot;transformMessage&quot; baru akan mengambil pesan asli dan menambahkan sebuah tanda merah &quot;[Admin]&quot; ke depan pesan.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.Text</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.channel.MessageChannel</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.channel.MessageReceiver</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.chat.ChatType</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.format.TextColors</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AdminMessageChannel</span> <span class="kd">implements</span> <span class="n">MessageChannel</span> <span class="p">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">Text</span><span class="o">&gt;</span> <span class="nf">transformMessage</span><span class="p">(</span><span class="n">Object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">MessageReceiver</span> <span class="n">recipient</span><span class="p">,</span>
                <span class="n">Text</span> <span class="n">original</span><span class="p">,</span> <span class="n">ChatType</span> <span class="n">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Text</span> <span class="n">text</span> <span class="o">=</span> <span class="n">original</span><span class="p">;</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">TextColors</span><span class="p">.</span><span class="na">RED</span><span class="p">,</span> <span class="s">&quot;[Admin]&quot;</span><span class="p">,</span> <span class="n">TextColors</span><span class="p">.</span><span class="na">RESET</span><span class="p">,</span> <span class="n">text</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">Optional</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">MessageReceiver</span><span class="o">&gt;</span> <span class="nf">getMembers</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Collections</span><span class="p">.</span><span class="na">emptyList</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Catatan bahwa kita tidak menginginkan untuk menentukan penerima tambahan, jika kita mengembalikan koleksi kosong pada metode :javadoc:'MessageChannel#getMembers()'.</p>
<p>Berkat kemampuan yang digabungkan &quot;MessageChannel&quot;s, kita dapat menggabungkan yang baru diciptakan &quot;AdminMessageChannel&quot; dengan apa saja lainnya &quot;MessageChannel&quot;. Sekarang jika seorang pemain bergabung dengan izin &quot;Myplugin.admin, kita akan memperoleh &quot;MessageChannel&quot; pesan yang di kirimnya ke, menggabungkan itu dengan &quot;AdminMessageChannel&quot; dan mengatur saluran gabungan kembali ke pemain. Dengan cara itu semua pesan yang dikirimkan untuk setiap orang yang ditetapkan dalam saluran asli, tetapi karena penambahan dari &quot;AdminMessageChannel&quot;, sebuah tanda merah &quot;[Admin]&quot; akan menjadi awalan.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.entity.living.player.Player</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.event.Listener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.event.network.ClientConnectionEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.channel.MessageChannel</span><span class="p">;</span>

<span class="kd">private</span> <span class="n">AdminMessageChannel</span> <span class="n">adminChannel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdminMessageChannel</span><span class="p">();</span>

<span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClientConnectionJoin</span><span class="p">(</span><span class="n">ClientConnectionEvent</span><span class="p">.</span><span class="na">Join</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Player</span> <span class="n">player</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="na">getTargetEntity</span><span class="p">();</span>
    <span class="k">if</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="na">hasPermission</span><span class="p">(</span><span class="s">&quot;myplugin.admin&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">MessageChannel</span> <span class="n">originalChannel</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="na">getOriginalChannel</span><span class="p">();</span>
        <span class="n">MessageChannel</span> <span class="n">newChannel</span> <span class="o">=</span> <span class="n">MessageChannel</span><span class="p">.</span><span class="na">combined</span><span class="p">(</span><span class="n">originalChannel</span><span class="p">,</span>
            <span class="n">adminChannel</span><span class="p">);</span>
        <span class="n">player</span><span class="p">.</span><span class="na">setMessageChannel</span><span class="p">(</span><span class="n">newChannel</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Catatan bahwa awalan ini akan 'all' pesan-pesan yang terkait dengan seorang pemain. Ini termasuk pesan kematian, tinggalkan pesan, dll. Jika anda hanya ingin untuk awal semua pesan 'chat', anda akan perlu untuk mendengarkan :javadoc:'MessageChannelEvent.Chan' dan mengatur saluran ke acara daripada pemain. Ini akan dilakukan menggunakan &quot;event.setChannel(newChannel)&quot; ke acara &quot;MessageChannelEvent.Chat&quot;. Untuk mendapatkan pemain dari acara dengan memeriksa izin, anda akan perlu untuk mendapatkan seorang &quot;Player&quot; dari acara &quot;Cause&quot;. Seperti yang ditunjukkan di bawah ini:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Player</span><span class="o">&gt;</span> <span class="n">playerOptional</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="na">getCause</span><span class="p">().</span><span class="o">&lt;</span><span class="n">Player</span><span class="o">&gt;</span><span class="n">first</span><span class="p">(</span><span class="n">Player</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</pre></div>
</div>
<p>Penyebab lebih lanjut dapat ditemukan pada :doc:'cause page &lt;../event/cause&gt;'.</p>
<div class="admonition note">
<p class="first admonition-title">Catatan</p>
<p class="last">Ketika menggabungkan beberapa &quot;MessageChannel&quot;s mendefinisikan pesan transformasi berbeda, &quot;Teks&quot; akan berubah dalam urutan yang &quot;MessageChannel&quot;s yang disampaikan dalam metode &quot;MessageChannel#combined(MessageChannel... channels)&quot;. Catatan bahwa setiap transformasi hasilnya secara kosong &quot;Optional&quot; akan diabaikan kecuali kalau dilakukan oleh saluran terakhir dalam rantai.</p>
</div>
</div>
<div class="section" id="mutable-message-channels">
<h2>Bisa Berubah Saluran Pesan<a class="headerlink" href="#mutable-message-channels" title="Link permanen untuk headline ini">¶</a></h2>
<p>Sebuah :javadoc:'MutableMessageChannel' mengandung metode-metode untuk mengubah siapa yang mungkin dapat menerima pesan yang dikirim melalui saluran kami. Dengan demikian, kita harus melaksanakan metode untuk melakukan tindakan yang mengubah anggota kami. Untuk melakukan ini, kita hanya akan membuat kelas bernama &quot;MutableAdminMessageChannel&quot; yang akan melaksanakan sebuah &quot;MutableMessageChannel&quot;.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.WeakHashMap</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.Text</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.channel.MessageReceiver</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.channel.MutableMessageChannel</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.chat.ChatType</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.format.TextColors</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MutableAdminMessageChannel</span> <span class="kd">implements</span> <span class="n">MutableMessageChannel</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">MessageReceiver</span><span class="o">&gt;</span> <span class="n">members</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">MutableAdminMessageChannel</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">(</span><span class="n">Collections</span><span class="p">.</span><span class="na">emptySet</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="nf">MutableAdminMessageChannel</span><span class="p">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">MessageReceiver</span><span class="o">&gt;</span> <span class="n">members</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">members</span> <span class="o">=</span> <span class="n">Collections</span><span class="p">.</span><span class="na">newSetFromMap</span><span class="p">(</span><span class="k">new</span> <span class="n">WeakHashMap</span><span class="o">&lt;&gt;</span><span class="p">());</span>
        <span class="k">this</span><span class="p">.</span><span class="na">members</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">members</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">MessageReceiver</span><span class="o">&gt;</span> <span class="nf">getMembers</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Collections</span><span class="p">.</span><span class="na">unmodifiableSet</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">members</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">addMember</span><span class="p">(</span><span class="n">MessageReceiver</span> <span class="n">member</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="na">members</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">member</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">removeMember</span><span class="p">(</span><span class="n">MessageReceiver</span> <span class="n">member</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="na">members</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">member</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearMembers</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">members</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">Text</span><span class="o">&gt;</span> <span class="nf">transformMessage</span><span class="p">(</span><span class="n">Object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">MessageReceiver</span> <span class="n">recipient</span><span class="p">,</span>
                <span class="n">Text</span> <span class="n">original</span><span class="p">,</span> <span class="n">ChatType</span> <span class="n">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Text</span> <span class="n">text</span> <span class="o">=</span> <span class="n">original</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">members</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="n">recipient</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">Text</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">TextColors</span><span class="p">.</span><span class="na">RED</span><span class="p">,</span> <span class="s">&quot;[Admin]&quot;</span><span class="p">,</span> <span class="n">TextColors</span><span class="p">.</span><span class="na">RESET</span><span class="p">,</span> <span class="n">text</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">Optional</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Peberdaan utama antara kami &quot;AdminMessageChannel&quot; dan kami yang baru &quot;MutableAdminMessageChannel&quot; adalah bahwa kami memeriksa jika penerima masuk daftar anggota sebelum mengubah pesan. Jika iya, lalu kita mungkin mengubah pesan yang dikirim, menambahkan awalan merah &quot;[Admin]&quot;. Dalam metode kami &quot;getMembers()&quot; kami kembali menetapkan sebagai yang kekal, sehingga mengatur hanya dapat diubah oleh metode yang sesuai pada kami &quot;MutableAdminMessageChannel&quot;.</p>
<p>Note that an abstract implementation for <code class="docutils literal notranslate"><span class="pre">MutableMessageChannel</span></code>s exists in SpongeAPI as
<code class="docutils literal notranslate"><span class="pre">AbstractMutableMessageChannel</span></code>. Also note that our members do not persist. If a player were to leave the server,
they would be removed from the set.</p>
<div class="section" id="modifying-the-members">
<h3>Memodifikasi Anggota<a class="headerlink" href="#modifying-the-members" title="Link permanen untuk headline ini">¶</a></h3>
<p>Untuk membuat penuh pengguna dari kami &quot;MutableAdminMessageChannel&quot;, kita perlu untuk bisa dapat menambahkan dan menghapus anggota dari saluran. Untuk melakukan ini, kita dapat secara sederhana untuk seruan metode kami :javadoc:'MutableMessageChannel#addMember(MessageReceiver)' dan :javadoc:'MutableMessageChannel#removeMember(MessageReceiver)' sebelumnya kami implementasikan kapanpun kami perlu untuk menambahkan dan menghapus seorang anggota dari kumpulan anggota.</p>
</div>
</div>
</div>

           </div>
          </div>
<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="templates.html" class="btn btn-neutral float-right" title="TextTemplates" accesskey="n" rel="next">Selanjutnya <span class="fa fa-angle-right"></span></a>
        <a href="pagination.html" class="btn btn-neutral" title="Layanan Paginasi" accesskey="p" rel="prev"><span class="fa fa-angle-left"></span> Sebelumnya</a>
    </div>

    <hr/>

    <section id="license-footer">
        <p>Except where otherwise noted,
            <a xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" property="dct:title" rel="cc:attributionURL" href="https://github.com/SpongePowered/SpongeDocs">SpongeDocs</a>
            is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </p>
        <a id="license-icons" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC-BY-SA" aria-hidden="true">cba</a>
    </section>
</footer>        </div>
      </div>

    </section>

  </div>


<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <i class="fa fa-book"> <span>SpongeDocs</span></i>
        v: 7.2.0
    <img src="../../_static/flags/id_ID.svg"
         alt="id" title="Indonesia">
        <span class="fa fa-caret-down"></span>
    </span>
    <div id="versions" class="rst-other-versions">




    </div>
</div>

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'7.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>      <script type="text/javascript" src="../../_static/jquery.js"></script>      <script type="text/javascript" src="../../_static/underscore.js"></script>      <script type="text/javascript" src="../../_static/doctools.js"></script>      <script type="text/javascript" src="../../_static/language_data.js"></script>      <script type="text/javascript" src="../../_static/translations.js"></script>      <script type="text/javascript" src="../../_static/spongedocs.js"></script>

    <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
 
</body>
</html>